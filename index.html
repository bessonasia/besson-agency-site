<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Besson Agency — Premium Event, Creative, BTL, POSM</title>
  <meta name="description" content="Besson Agency — Event и BTL агентство. Организация мероприятий, активаций и креативных кампаний в Казахстане, Узбекистане и по всей Центральной Азии.">
  <link rel="canonical" href="https://besson.asia/">
  <meta name="theme-color" content="#0a0a0a">
  <link rel="icon" href="/assets/fav/favicon.ico">

  <style>
    *{box-sizing:border-box;margin:0}
    html,body{height:100%;scroll-behavior:smooth;overflow-x:hidden;width:100vw}
    :root{--bg:#0a0a0a;--fg:#f5f5f5;--muted:#bdbdbd;--pad:clamp(16px,2.4vw,32px);--grid:max(68rem,74vw)}
    body{font-family:'Inter','Helvetica Neue','Segoe UI','Roboto',sans-serif;background:var(--bg);color:var(--fg);overflow-x:hidden;-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}

    /* NAV */
    .nav{position:fixed;top:0;left:0;right:0;height:76px;display:flex;align-items:center;justify-content:space-between;padding:0 var(--pad);z-index:1000;background:linear-gradient(180deg,rgba(10,10,10,0.85),rgba(10,10,10,0));backdrop-filter:saturate(140%) blur(6px)}
    .brand__mark{font-weight:800;letter-spacing:0.18em;text-transform:uppercase;color:inherit;text-decoration:none;cursor:pointer;transition:text-shadow .3s ease,transform .3s ease}
    .brand__mark:hover{text-shadow:0 0 8px rgba(255,255,255,0.4);transform:translateY(-1px)}
    .nav__group{display:flex;align-items:center;gap:18px}
    .menu-toggle{display:none}
    .mobile-menu{display:none}
    @media (max-width:768px){
      body{opacity:0;transition:opacity .6s cubic-bezier(.19,1,.22,1)}
      body.is-ready{opacity:1}
      body.menu-open{overflow:hidden}
      .nav__group{display:none!important}
      .menu-toggle{
        display:flex;flex-direction:column;justify-content:center;gap:6px;
        width:34px;height:26px;background:none;border:0;cursor:pointer;z-index:1100;
        position:relative;transition:transform .45s cubic-bezier(.19,1,.22,1)
      }
      .menu-toggle span{
        display:block;width:100%;height:2px;background:#fff;border-radius:999px;
        box-shadow:0 0 8px rgba(255,255,255,.4);transition:transform .45s cubic-bezier(.19,1,.22,1),opacity .45s ease
      }
      .menu-toggle.active{transform:scale(.92)}
      .menu-toggle.active span:nth-child(1){transform:translateY(8px) rotate(42deg)}
      .menu-toggle.active span:nth-child(2){opacity:0}
      .menu-toggle.active span:nth-child(3){transform:translateY(-8px) rotate(-42deg)}

      .mobile-menu{
        display:flex;position:fixed;inset:0;background:rgba(10,10,10,.82);
        backdrop-filter:blur(14px);
        align-items:flex-start;justify-content:center;flex-direction:column;
        opacity:0;pointer-events:none;transition:opacity .6s cubic-bezier(.19,1,.22,1);
        z-index:1000;padding:18vh var(--pad) 8vh
      }
      .mobile-menu ul{list-style:none;margin:0;padding:0;width:100%;text-align:left}
      .mobile-menu li{margin:18px 0;opacity:0;transform:translateY(-30px);transition:all .6s cubic-bezier(.19,1,.22,1);will-change:transform,opacity}
      .mobile-menu.active{opacity:1;pointer-events:auto}
      .mobile-menu.active li{opacity:1;transform:translateY(0)}
      .mobile-menu a{
        color:#fff;font-size:1.35rem;letter-spacing:.08em;text-transform:uppercase;
        font-weight:400;text-decoration:none;position:relative;padding-bottom:6px;display:inline-flex;gap:10px;align-items:center
      }
      .mobile-menu a::after{
        content:"";position:absolute;left:0;bottom:0;width:100%;height:1px;background:rgba(255,255,255,.6);
        transform:scaleX(0);transform-origin:right;transition:transform .45s cubic-bezier(.19,1,.22,1)
      }
      .mobile-menu a:focus-visible::after,
      .mobile-menu a:hover::after{transform:scaleX(1);transform-origin:left}

      #logoText{display:inline-block;transform-origin:center;will-change:transform}
      #logoText span{display:inline-block;transition:transform .4s cubic-bezier(.19,1,.22,1),text-shadow .5s ease,filter .5s ease;will-change:transform,filter}
      #logoText.breathe span{animation:microPulse 1.8s ease-in-out infinite alternate}
      @keyframes microPulse{
        0%{transform:translate3d(var(--tx,0),0,0) scale(var(--sc,1));filter:brightness(1)}
        50%{transform:translate3d(var(--tx,0),0,0) scale(calc(var(--sc,1.04)));filter:brightness(1.16)}
        100%{transform:translate3d(var(--tx,0),0,0) scale(var(--sc,1));filter:brightness(1)}
      }

      .hero__slogan{margin-top:32px;gap:.55em}
      .hero__slogan span{position:relative}
      .hero__slogan .slogan-letter{display:inline-block;transition:transform .35s ease,color .35s ease,text-shadow .35s ease;will-change:transform}
      .hero__slogan .slogan-letter:hover{color:#fff;text-shadow:0 0 8px rgba(255,255,255,.35)}
      .hero__slogan .slogan-letter.active{color:#fff;text-shadow:0 0 12px rgba(255,255,255,.4)}

      .stage__title{font-weight:400;line-height:1.7}
      .about-line{display:inline-block;will-change:transform,opacity}

      .tile{will-change:transform,opacity}
      .contact__grid{will-change:transform,opacity}
      .swap{will-change:transform,opacity;flex-direction:column;gap:.4em}
      .interlude-word{display:inline-block;will-change:transform,opacity}
    }
    .link{position:relative;text-transform:uppercase;font-size:.78rem;letter-spacing:.18em}
    .link::after{content:"";position:absolute;left:0;right:0;bottom:-6px;height:1px;background:#fff;opacity:.25;transform:scaleX(0);transform-origin:left;transition:transform .35s ease,opacity .35s}
    .link:hover::after{transform:scaleX(1);opacity:.5}

    /* HERO */
    .hero{min-height:100vh;display:grid;place-items:center}
    .hero__content{text-align:center;padding:120px var(--pad) 60px}
    .hero__name{font-size:clamp(2rem,6vw,4rem);font-weight:800;letter-spacing:.22em;text-transform:uppercase;margin-bottom:16px}
    #logoText span{display:inline-block;transition:transform .25s ease-out,text-shadow .3s ease-out}
    #logoText span[data-space="true"]{pointer-events:none}
    .hero__slogan{margin-top:24px;font-size:clamp(1.1rem,2.4vw,1.6rem);letter-spacing:.22em;text-transform:uppercase;opacity:0;transform:translateY(8px) scale(.98);animation:heroSloganIntro 1.2s ease forwards .4s;display:flex;justify-content:center;flex-wrap:wrap;gap:.6em;cursor:default}
    .hero__slogan span{display:inline-block;transition:color .4s ease,text-shadow .4s ease;animation:subtleGlow 6s ease-in-out infinite alternate}
    .hero__slogan span:hover{color:#fff;text-shadow:0 0 10px rgba(255,255,255,.45),0 0 20px rgba(255,255,255,.25),0 0 30px rgba(255,255,255,.15)}
    #logoText.breathe span{animation:breathe 1.4s ease-in-out infinite alternate}
    @keyframes heroSloganIntro{to{opacity:1;transform:translateY(0) scale(1)}}
    @keyframes fontShimmer{0%{background-position:0% 50%}100%{background-position:100% 50%}}
    @keyframes glowPulse{0%,100%{filter:drop-shadow(0 0 0 rgba(255,255,255,0))}50%{filter:drop-shadow(0 0 12px rgba(255,255,255,0.12))}}
    @keyframes floatPulse{0%,100%{transform:translateY(0)}50%{transform:translateY(-2px)}}
    @keyframes subtleGlow{0%,100%{text-shadow:none}50%{text-shadow:0 0 6px rgba(255,255,255,0.15)}}
    @keyframes breathe{0%{transform:scale(1);filter:brightness(1)}50%{transform:scale(1.05);filter:brightness(1.25)}100%{transform:scale(1);filter:brightness(1)}}

    /* INTERLUDE */
    .interlude{background:#fff;color:#0a0a0a;text-align:center;padding:140px var(--pad);position:relative}
    .interlude::after{content:"";position:absolute;left:0;right:0;bottom:-1px;height:1px;background:#fff}
    .swap{display:inline-flex;gap:.24em;align-items:center;position:relative}
    .swap .interlude-word{display:inline-block}
    .hero__title{font-size:clamp(3rem,9.6vw,7rem);line-height:.9;font-weight:800;letter-spacing:-.02em}

    /* ABOUT */
    .stage{background:#fff;color:#0a0a0a;padding:160px var(--pad);text-align:center;position:relative}
    .stage::before{content:"";position:absolute;left:0;right:0;top:-1px;height:1px;background:#fff}
    .stage__title{font-weight:500;font-size:1.35rem;line-height:1.6;max-width:68ch;margin:0 auto;color:#111}

    /* PROJECTS */
    #work{padding:0}
    .wall{width:100vw;margin-left:calc(50% - 50vw);display:grid;grid-template-columns:repeat(12,1fr)}
    .tile{grid-column:span 4;position:relative;overflow:hidden}
    @media (max-width:1100px){.tile{grid-column:span 6}}
    @media (max-width:680px){.tile{grid-column:1/-1}}
    .tile img{width:100%;height:auto;min-height:300px;display:block;background:#111;transition:transform .7s ease}
    .tile:hover img{transform:scale(1.06)}
    .tile__caption{position:absolute;inset:0;display:grid;place-items:center;opacity:0;transition:opacity .35s ease,backdrop-filter .35s ease;background:rgba(0,0,0,.45);color:#fff;text-align:center;padding:12px}
    .tile:hover .tile__caption{opacity:1;backdrop-filter:blur(2px)}

    /* CONTACT */
    .contact{padding:120px var(--pad);text-align:center}
    .contact__grid{max-width:var(--grid);margin:0 auto;display:flex;flex-direction:column;align-items:center;gap:28px}
    .contact__lead{font-weight:800;letter-spacing:.06em;text-transform:uppercase;font-size:clamp(1.4rem,3.6vw,2.2rem)}
    .contact__sub{color:var(--muted);margin-top:10px;max-width:52ch}
    .form{background:linear-gradient(180deg,#0e0e0e,#0a0a0a);border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:32px;box-shadow:0 10px 30px rgba(0,0,0,.35);max-width:460px;width:100%}
    .row{display:block}
    .field{position:relative;margin-bottom:18px}
    .input{width:100%;padding:18px 14px;border-radius:14px;border:1px solid #1b1b1b;background:#0f0f0f;color:#fff;transition:border-color .25s,box-shadow .25s}
    .input:focus{border-color:#fff;box-shadow:0 0 0 2px rgba(255,255,255,.15)}
    .label{position:absolute;left:16px;top:14px;padding:2px 6px;border-radius:8px;font-size:.85rem;color:#a9a9a9;background:rgba(255,255,255,.02);transform-origin:left top;transition:transform .2s,opacity .2s}
    .field.filled .label,.input:focus + .label{transform:translateY(-18px) scale(.88);opacity:.9;color:#fff}
    .form__status{min-height:20px;font-size:.9rem;color:var(--muted);margin-top:6px;transition:opacity .3s}
    .form__status--success{color:#9be7c4}
    .form__status--error{color:#ff8a80}
    .actions{display:flex;align-items:center;justify-content:center;gap:14px;margin-top:24px;flex-wrap:wrap}
    .btn{position:relative;padding:16px 22px;border-radius:999px;border:1px solid #fff;background:#fff;color:#000;font-weight:700;text-transform:uppercase;cursor:pointer;transition:transform .25s,box-shadow .25s}
    .btn:hover{transform:translateY(-2px);box-shadow:0 10px 25px rgba(255,255,255,.1)}
    .btn .glow{position:absolute;inset:-2px;border-radius:inherit;background:radial-gradient(280px 160px at var(--x,50%) var(--y,50%),rgba(255,255,255,.35),transparent 60%);opacity:0;transition:opacity .25s}
    .btn:hover .glow{opacity:1}

    .icon-btn{width:44px;height:44px;border:1px solid #1b1b1b;border-radius:12px;display:flex;align-items:center;justify-content:center;background:#0f0f0f;color:#fff;transition:background .25s,border-color .25s,transform .2s}
    .icon-btn:hover{background:#fff;color:#000;border-color:#fff;transform:translateY(-2px)}
    .icon-btn svg{width:20px;height:20px;fill:currentColor}

    /* FOOTER */
    footer{padding:48px var(--pad);color:#bdbdbd;text-align:center}
    .footer-left{font-weight:700;letter-spacing:0.18em}
    .footer-contact{font-size:.9rem;display:flex;gap:10px;align-items:center;justify-content:center;margin-top:12px}
    .footer-contact svg{width:16px;height:16px;opacity:.8}
    .mail-icon{transition:filter .3s ease,transform .3s ease}
    .footer-contact a:hover .mail-icon{filter:drop-shadow(0 0 6px rgba(255,255,255,.45));transform:translateY(-1px)}

    /* Premium cursor */
    @media (hover:hover) and (pointer:fine){
      body{cursor:none}
      .cursor-dot,.cursor-ring{position:fixed;top:0;left:0;pointer-events:none;z-index:2000;transform:translate(-50%,-50%)}
      .cursor-dot{width:8px;height:8px;border-radius:50%;background:#fff;mix-blend-mode:difference;transition:opacity .25s,transform .08s}
      .cursor-ring{width:36px;height:36px;border-radius:50%;border:1px solid rgba(255,255,255,.7);mix-blend-mode:difference;transition:opacity .3s,transform .2s,border-color .2s}
      .cursor--hover .cursor-ring{transform:translate(-50%,-50%) scale(1.4);border-color:#fff}
    }
  </style>
</head>

<body>
  <header class="nav">
    <a href="#" class="brand__mark">BESSON</a>
    <button class="menu-toggle" aria-label="Toggle menu">
      <span></span><span></span><span></span>
    </button>
    <nav class="mobile-menu" id="mobileMenu" aria-hidden="true">
      <ul>
        <li><a href="#about">Об агентстве</a></li>
        <li><a href="#work">Проекты</a></li>
        <li><a href="#contact">Контакты</a></li>
      </ul>
    </nav>
    <nav class="nav__group">
      <a class="link" href="#about">Об агентстве</a>
      <a class="link" href="#work">Проекты</a>
      <a class="link" href="#contact">Контакты</a>
    </nav>
  </header>

  <section class="hero">
    <div class="hero__content">
      <div class="hero__name" id="logoText"></div>
      <div class="hero__slogan" id="slogan">
        <span>Не</span>
        <span>спим</span>
        <span>за</span>
        <span>деньги</span>
      </div>
    </div>
  </section>

  <section class="interlude">
    <h1 class="hero__title">
      <span class="swap" id="swap">
        <span class="interlude-word">Event.</span>
        <span class="interlude-word">BTL.</span>
        <span class="interlude-word">POSM.</span>
      </span>
    </h1>
  </section>

  <section class="stage" id="about">
    <h2 class="stage__title">Мы создаём яркие концепции для мероприятий и бренд-активаций, организуем маркетинговые и корпоративные события. Реализуем BTL-проекты и усиливаем бренды через продуманные коммуникации.</h2>
  </section>

  <section id="work">
    <div class="wall" id="wall">
      <a class="tile" href="project1.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+1" alt="Project 1"><div class="tile__caption"><div><strong>Project 1</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project2.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+2" alt="Project 2"><div class="tile__caption"><div><strong>Project 2</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project3.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+3" alt="Project 3"><div class="tile__caption"><div><strong>Project 3</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project4.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+4" alt="Project 4"><div class="tile__caption"><div><strong>Project 4</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project5.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+5" alt="Project 5"><div class="tile__caption"><div><strong>Project 5</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project6.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+6" alt="Project 6"><div class="tile__caption"><div><strong>Project 6</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project7.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+7" alt="Project 7"><div class="tile__caption"><div><strong>Project 7</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project8.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+8" alt="Project 8"><div class="tile__caption"><div><strong>Project 8</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project9.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+9" alt="Project 9"><div class="tile__caption"><div><strong>Project 9</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project10.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+10" alt="Project 10"><div class="tile__caption"><div><strong>Project 10</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project11.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+11" alt="Project 11"><div class="tile__caption"><div><strong>Project 11</strong><br><small>Creative / Event</small></div></div></a>
      <a class="tile" href="project12.html"><img src="https://via.placeholder.com/1600x900/111111/ffffff?text=Project+12" alt="Project 12"><div class="tile__caption"><div><strong>Project 12</strong><br><small>Creative / Event</small></div></div></a>
    </div>
  </section>

  <section class="contact" id="contact">
    <div class="contact__grid">
      <h2 class="contact__lead">Оставьте заявку</h2>
      <p class="contact__sub"><span class="line">Укажите имя и номер телефона.</span><span class="line">Мы свяжемся в рабочие часы.</span></p>
      <form class="form" id="leadForm" novalidate>
        <div class="row">
          <div class="field"><input class="input" id="name" name="name" placeholder=" " required><label class="label" for="name">Имя</label></div>
          <div class="field"><input class="input" id="phone" name="phone" type="tel" placeholder=" " required><label class="label" for="phone">Телефон</label></div>
        </div>
        <div class="actions">
          <button class="btn" type="submit"><span class="glow"></span>Отправить</button>
          <a class="icon-btn" href="https://api.whatsapp.com/send/?phone=77058880678&text&type=phone_number&app_absent=0" target="_blank" aria-label="WhatsApp">
            <svg viewBox="0 0 32 32"><path d="M16.001 3.2c-7.06 0-12.8 5.74-12.8 12.8 0 2.256.588 4.367 1.615 6.205L3.2 28.8l6.746-1.767a12.73 12.73 0 0 0 6.055 1.541c7.06 0 12.8-5.74 12.8-12.8s-5.74-12.8-12.8-12.8z"/></svg>
          </a>
        </div>
        <p class="form__status" id="formStatus" role="status" aria-live="polite"></p>
      </form>
    </div>
  </section>

  <footer>
    <div class="footer-left">BESSON AGENCY</div>
    <div class="footer-contact" style="margin-bottom:20px;line-height:1.8;">
      <a href="mailto:hello@besson.asia" style="display:flex;align-items:center;gap:10px;color:#f5f5f5;text-decoration:none;">
        <svg class="mail-icon" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="4" width="20" height="16" rx="2" ry="2"/><polyline points="22,6 12,13 2,6"/>
        </svg>
        <span style="font-weight:500;letter-spacing:.03em;">hello@besson.asia</span>
      </a>
    </div>
    <p>© <span id="year"></span> Besson Agency</p>
  </footer>

  <div class="cursor-dot" id="cursorDot"></div>
  <div class="cursor-ring" id="cursorRing"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js" defer></script>
  <script defer>
    // год в футере
    document.getElementById("year").textContent = new Date().getFullYear();

    // Анимация логотипа BESSON AGENCY (эффект Dock)
    const logoText = document.getElementById("logoText");
    const logoString = "BESSON AGENCY";

    logoText.innerHTML = logoString
      .split("")
      .map((ch) => {
        const isSpace = ch === " ";
        const attrs = isSpace ? ' data-space="true"' : "";
        const content = isSpace ? "&nbsp;" : ch;
        return `<span${attrs}>${content}</span>`;
      })
      .join("");

    const logoSpans = Array.from(logoText.querySelectorAll("span"));
    const interactiveLogoSpans = logoSpans.filter((span) => !span.dataset.space);

    interactiveLogoSpans.forEach((span) => {
      span.addEventListener("mouseenter", () => {
        span.style.transform = "translateY(-4px) scale(1.25)";
        span.style.textShadow = "0 0 18px rgba(255,255,255,0.35)";
      });
      span.addEventListener("mouseleave", () => {
        span.style.transform = "translateY(0) scale(1)";
        span.style.textShadow = "none";
      });
    });

    const mobileMedia = window.matchMedia("(max-width: 768px)");
    let mobileInitialized = false;

    function initMobileExperience(){
      if(mobileInitialized) return;
      mobileInitialized = true;

      const hasGSAP = typeof gsap !== "undefined";
      const hasScrollTrigger = typeof ScrollTrigger !== "undefined";

      if(hasGSAP && hasScrollTrigger){
        gsap.registerPlugin(ScrollTrigger);
        gsap.config({force3D:true,lazy:false});
      }

      requestAnimationFrame(()=>document.body.classList.add("is-ready"));

      const toggle = document.querySelector('.menu-toggle');
      const menu = document.querySelector('#mobileMenu');
      if(toggle && menu){
        const items = menu.querySelectorAll('li');
        const setStagger = (active)=>{
          items.forEach((li,i)=>{
            li.style.transitionDelay = active ? `${i * 0.12}s` : '0s';
          });
        };
        toggle.addEventListener('click', ()=>{
          const active = !toggle.classList.contains('active');
          toggle.classList.toggle('active', active);
          menu.classList.toggle('active', active);
          menu.setAttribute('aria-hidden', String(!active));
          document.body.classList.toggle('menu-open', active);
          setStagger(active);
          if(active && hasGSAP){
            gsap.fromTo(menu,{y:-30},{y:0,duration:.6,ease:"power2.out",overwrite:true});
          }
        });
        menu.addEventListener('click', (event)=>{
          if(event.target.matches('a')){
            toggle.classList.remove('active');
            menu.classList.remove('active');
            menu.setAttribute('aria-hidden','true');
            document.body.classList.remove('menu-open');
            setStagger(false);
          }
        });
      }

      const slogan = document.getElementById('slogan');
      if(slogan){
        const wordSpans = Array.from(slogan.querySelectorAll('span'));
        wordSpans.forEach((wordSpan)=>{
          const text = wordSpan.textContent.trim();
          const letters = text.split('');
          wordSpan.innerHTML = letters.map((letter)=>`<span class="slogan-letter">${letter}</span>`).join('');
        });
        const letters = slogan.querySelectorAll('.slogan-letter');
        letters.forEach((letter)=>{
          const clearActive = ()=>letter.classList.remove('active');
          letter.addEventListener('touchstart', ()=>{
            letter.classList.add('active');
          }, {passive:true});
          letter.addEventListener('touchend', clearActive);
          letter.addEventListener('touchcancel', clearActive);
        });
        if(hasGSAP){
          gsap.set(letters,{opacity:.65});
          gsap.to(letters,{
            opacity:1,
            textShadow:"0 0 12px rgba(255,255,255,0.35)",
            stagger:{each:0.05},
            ease:"power2.out",
            scrollTrigger:{
              trigger:".hero",
              start:"top top",
              end:"+=" + Math.max(window.innerHeight * 1.2, 800),
              scrub:true
            }
          });
        }
      }

      if(hasGSAP && logoSpans.length){
        const animatedLetters = logoSpans.filter((span)=>!span.dataset.space);
        const mid = (animatedLetters.length - 1) / 2;
        const maxSpread = window.innerWidth * 0.65;
        gsap.set(logoText,{transformOrigin:"center center"});
        gsap.set(animatedLetters,{transformOrigin:"center center"});
        const travelDistance = Math.max(window.innerHeight * 1.2, 800);
        const heroTimeline = gsap.timeline({
          scrollTrigger:{
            trigger:".hero",
            start:"top top",
            end:"+=" + travelDistance,
            scrub:true
          }
        });
        heroTimeline.to(logoText,{scale:3,ease:"power2.out"},0);
        heroTimeline.to(animatedLetters,{
          x:(i)=>{
            const normalized = mid ? (i - mid) / mid : 0;
            return normalized * maxSpread;
          },
          scale:3,
          textShadow:"0 0 38px rgba(255,255,255,0.35)",
          filter:"brightness(1.28)",
          stagger:{each:0.035,from:"center"},
          ease:"power2.out"
        },0);
        const syncVars = ()=>{
          const progress = heroTimeline.progress();
          const scale = 1 + progress * 2;
          animatedLetters.forEach((span,i)=>{
            const normalized = mid ? (i - mid) / mid : 0;
            const tx = normalized * maxSpread * progress;
            span.style.setProperty('--tx', `${tx}px`);
            span.style.setProperty('--sc', scale);
          });
        };
        heroTimeline.eventCallback('onUpdate', syncVars);
        syncVars();

        let breatheTimeout;
        const clearBreathe = ()=>{
          clearTimeout(breatheTimeout);
          logoText.classList.remove('breathe');
        };
        logoText.addEventListener('touchstart', ()=>{
          clearTimeout(breatheTimeout);
          breatheTimeout = setTimeout(()=>logoText.classList.add('breathe'), 450);
        }, {passive:true});
        ['touchend','touchcancel'].forEach((evt)=>{
          logoText.addEventListener(evt, clearBreathe);
        });
      }

      if(hasGSAP && hasScrollTrigger){
        const about = document.getElementById('about');
        if(about){
          const title = about.querySelector('.stage__title');
          if(title && !title.dataset.split){
            const fragments = title.textContent.split(/(?<=\.)\s+|(?<=,)\s+/);
            title.dataset.split = 'true';
            title.innerHTML = fragments.map((fragment)=>`<span class="about-line">${fragment.trim()}</span>`).join(' ');
          }
          const lines = about.querySelectorAll('.about-line');
          if(lines.length){
            const aboutTimeline = gsap.timeline({
              scrollTrigger:{
                trigger:about,
                start:"top 80%",
                end:"top 20%",
                scrub:true
              }
            });
            aboutTimeline.fromTo(about,{opacity:0,y:60},{opacity:1,y:0,ease:"power2.out",duration:0.6});
            aboutTimeline.fromTo(lines,{opacity:0,y:30},{opacity:1,y:0,stagger:0.08,ease:"power2.out",duration:0.6},0.05);
          }
        }

        const interlude = document.querySelector('.interlude');
        const swap = document.getElementById('swap');
        if(interlude && swap){
          const words = swap.querySelectorAll('.interlude-word');
          if(words.length){
            gsap.set(words,{opacity:0,y:40});
            gsap.timeline({
              scrollTrigger:{
                trigger:interlude,
                start:"top 85%",
                end:"bottom 55%",
                scrub:true
              }
            }).to(words,{
              opacity:1,
              y:0,
              stagger:0.2,
              ease:"back.out(1.4)"
            });
          }
        }

        const tiles = gsap.utils.toArray('.tile');
        tiles.forEach((tile,index)=>{
          gsap.fromTo(tile,{opacity:0,x:index % 2 === 0 ? 60 : -60},{
            opacity:1,
            x:0,
            duration:1.1,
            ease:"power3.out",
            scrollTrigger:{
              trigger:tile,
              start:"top 80%",
              toggleActions:"play none none reverse"
            }
          });
        });

        const contactSection = document.getElementById('contact');
        if(contactSection){
          const contactGrid = contactSection.querySelector('.contact__grid');
          if(contactGrid){
            gsap.fromTo(contactGrid,{yPercent:25,opacity:0.8},{
              yPercent:0,
              opacity:1,
              ease:"power2.out",
              scrollTrigger:{
                trigger:contactSection,
                start:"top bottom",
                end:"bottom bottom",
                scrub:true
              }
            });
            const submitBtn = contactGrid.querySelector('.btn');
            if(submitBtn){
              ScrollTrigger.create({
                trigger:contactSection,
                start:"top bottom",
                end:"bottom bottom",
                scrub:true,
                onUpdate:(self)=>{
                  const glow = self.progress;
                  submitBtn.style.boxShadow = `0 0 ${8 + glow * 26}px rgba(255,255,255,${0.18 + glow * 0.3})`;
                },
                onLeave:()=>{
                  submitBtn.style.boxShadow = "0 0 28px rgba(255,255,255,0.45)";
                },
                onLeaveBack:()=>{
                  submitBtn.style.boxShadow = "";
                }
              });
            }
          }
        }
      }

      if(hasScrollTrigger){
        ScrollTrigger.refresh();
      }
    }

    if(mobileMedia.matches){
      initMobileExperience();
    }else{
      document.body.classList.add('is-ready');
    }

    const handleMobileChange = (event)=>{
      if(event.matches){
        initMobileExperience();
      }else{
        document.body.classList.add('is-ready');
      }
    };
    if(typeof mobileMedia.addEventListener === 'function'){
      mobileMedia.addEventListener('change', handleMobileChange);
    }else if(typeof mobileMedia.addListener === 'function'){
      mobileMedia.addListener(handleMobileChange);
    }

    const swap = document.getElementById("swap");
    if(swap && !mobileMedia.matches){
      const interludeWords = Array.from(swap.querySelectorAll('.interlude-word'));
      if(interludeWords.length){
        let active = 0;
        const highlight = ()=>{
          interludeWords.forEach((word,index)=>{
            const opacity = index === active ? 1 : 0.35;
            word.style.opacity = opacity;
          });
          interludeWords[active].animate([
            {opacity:0.35,transform:'translateY(18px)'},
            {opacity:1,transform:'translateY(0)'}
          ], {duration:500,easing:'ease-out'});
        };
        highlight();
        setInterval(()=>{
          active = (active + 1) % interludeWords.length;
          highlight();
        }, 2000);
      }
    }

    // плавающие лейблы
    document.querySelectorAll(".input").forEach((inp) => {
      const f = inp.parentNode;
      const toggle = () => f.classList.toggle("filled", !!inp.value.trim());
      toggle();
      inp.addEventListener("input", toggle);
      inp.addEventListener("blur", toggle);
    });

    // отправка формы
    const leadForm = document.getElementById("leadForm");
    const statusNode = document.getElementById("formStatus");
    const submitBtn = leadForm.querySelector(".btn");
    const endpoint = "https://formsubmit.co/ajax/hello@besson.asia";

    function updateStatus(message = "", mode = ""){
      statusNode.textContent = message;
      statusNode.className = `form__status ${mode ? `form__status--${mode}` : ""}`.trim();
    }

    leadForm.addEventListener("submit", async (event) => {
      event.preventDefault();

      if (!leadForm.reportValidity()) {
        return;
      }

      const formData = new FormData(leadForm);
      submitBtn.disabled = true;
      updateStatus("Отправляем…");

      try {
        const response = await fetch(endpoint, {
          method: "POST",
          headers: { "Accept": "application/json" },
          body: formData
        });

        if (!response.ok) {
          throw new Error(`Request failed: ${response.status}`);
        }

        updateStatus("Спасибо! Мы свяжемся с вами в ближайшее время.", "success");
        leadForm.reset();
        leadForm.querySelectorAll(".field").forEach((field) => field.classList.remove("filled"));
      } catch (error) {
        console.error(error);
        updateStatus("Не удалось отправить заявку. Попробуйте снова или свяжитесь по WhatsApp.", "error");
      } finally {
        submitBtn.disabled = false;
      }
    });

    // премиальный курсор
    const dot = document.getElementById("cursorDot");
    const ring = document.getElementById("cursorRing");
    let tx = 0, ty = 0, x = 0, y = 0;
    window.addEventListener("mousemove", (e) => { tx = e.clientX; ty = e.clientY; });
    function anim(){
      x += (tx - x) * 0.2;
      y += (ty - y) * 0.2;
      dot.style.transform = `translate(${x}px, ${y}px)`;
      ring.style.transform = `translate(${x}px, ${y}px)`;
      requestAnimationFrame(anim);
    }
    requestAnimationFrame(anim);
    document.querySelectorAll("a, button, .input").forEach((el) => {
      el.addEventListener("mouseenter", () => ring.classList.add("cursor--hover"));
      el.addEventListener("mouseleave", () => ring.classList.remove("cursor--hover"));
    });

  </script>
</body>
</html>
