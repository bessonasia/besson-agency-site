/* ===== Reset & base ===== */
*{ box-sizing:border-box; margin:0 }
html,body{ height:100%; scroll-behavior:smooth }
html{
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
  -webkit-tap-highlight-color:transparent;
}
:root{
  --bg:#0a0a0a;
  --fg:#f5f5f5;
  --muted:#bdbdbd;
  --pad:clamp(16px,2.4vw,32px);
  --grid:max(68rem,74vw);
}
body{
  font-family: 'Inter','Helvetica Neue','Segoe UI','Roboto',system-ui,sans-serif;
  background:var(--bg); color:var(--fg);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}
a{ color:inherit; text-decoration:none }

/* ===== Nav ===== */
.nav{
  position:fixed; inset:0 0 auto 0; height:76px;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 var(--pad); z-index:1000;
  background:linear-gradient(180deg, rgba(10,10,10,.85), rgba(10,10,10,0));
  backdrop-filter:saturate(140%) blur(6px);
}
.brand__mark{ font-weight:800; letter-spacing:.18em; text-transform:uppercase; transition:text-shadow .3s, transform .3s }
.brand__mark:hover{ text-shadow:0 0 8px rgba(255,255,255,.4); transform:translateY(-1px) }
.nav__group{ display:flex; align-items:center; gap:18px }
.link{ position:relative; text-transform:uppercase; font-size:.78rem; letter-spacing:.18em }
.link::after{
  content:""; position:absolute; left:0; right:0; bottom:-6px; height:1px; background:#fff; opacity:.25;
  transform:scaleX(0); transform-origin:left; transition:transform .35s, opacity .35s
}
.link:hover::after{ transform:scaleX(1); opacity:.5 }
.menu-toggle, .mobile-menu{ display:none }

@media (max-width:768px){
  .nav__group{ display:none }

  .menu-toggle{
    position:relative;
    display:flex;
    align-items:center;
    justify-content:center;
    width:40px;
    height:40px;
    border-radius:999px;
    background:rgba(10,10,10,.75);
    border:1px solid rgba(255,255,255,.35);
    cursor:pointer;
    z-index:1100;
    overflow:hidden;
    box-shadow:0 0 0 0 rgba(255,255,255,.18);
    transition:
      background .35s cubic-bezier(.19,1,.22,1),
      box-shadow .35s cubic-bezier(.19,1,.22,1),
      transform .25s cubic-bezier(.19,1,.22,1),
      border-color .35s;
  }

  /* мягкое дыхание, когда меню закрыто */
  .menu-toggle::before{
    content:"";
    position:absolute;
    inset:0;
    border-radius:inherit;
    background:radial-gradient(circle at 30% 30%, rgba(255,255,255,.22), transparent 55%);
    opacity:.0;
    transform:scale(0.8);
    transition:opacity .35s, transform .35s;
  }

  .menu-toggle:not(.active):hover::before{
    opacity:.8;
    transform:scale(1);
  }

  .menu-toggle:not(.active){
    animation:burgerPulse 2.8s ease-in-out infinite;
  }

  .menu-toggle span{
    position:absolute;
    left:50%;
    top:50%;
    width:18px;
    height:1.6px;
    border-radius:999px;
    background:#fff;
    transform-origin:center;
    transition:
      transform .35s cubic-bezier(.19,1,.22,1),
      opacity .25s,
      width .25s;
  }

  .menu-toggle span:nth-child(1){
    transform:translate(-50%, -6px);
  }
  .menu-toggle span:nth-child(2){
    transform:translate(-50%, 0);
    width:14px;
    opacity:.9;
  }
  .menu-toggle span:nth-child(3){
    transform:translate(-50%, 6px);
  }

  /* состояние открытого меню: плавный X внутри круга */
  .menu-toggle.active{
    background:rgba(255,255,255,.06);
    border-color:#fff;
    transform:scale(0.96);
    box-shadow:0 0 18px rgba(255,255,255,.14);
    animation:none;
  }

  .menu-toggle.active::before{
    opacity:.9;
    transform:scale(1.08);
  }

  .menu-toggle.active span:nth-child(1){
    transform:translate(-50%,0) rotate(45deg);
  }
  .menu-toggle.active span:nth-child(2){
    transform:translate(-50%,0) scaleX(0);
    opacity:0;
  }
  .menu-toggle.active span:nth-child(3){
    transform:translate(-50%,0) rotate(-45deg);
  }

  @keyframes burgerPulse{
    0%,100%{
      box-shadow:0 0 0 0 rgba(255,255,255,.0);
      transform:translateZ(0) scale(1);
    }
    50%{
      box-shadow:0 0 12px 0 rgba(255,255,255,.18);
      transform:translateZ(0) scale(1.02);
    }
  }

  /* остальное – как было */
  .mobile-menu{
    display:flex;
    position:fixed;
    inset:0;
    background:rgba(10,10,10,.85);
    backdrop-filter:blur(12px);
    align-items:center;
    justify-content:center;
    flex-direction:column;
    opacity:0;
    pointer-events:none;
    transition:opacity .6s cubic-bezier(.19,1,.22,1);
    z-index:1000;
  }
  .mobile-menu.active{ opacity:1; pointer-events:auto }
  .mobile-menu ul{ list-style:none; text-align:center }
  .mobile-menu li{ margin:10px 0 }
  .mobile-menu a{.mobile-menu a{ color:#fff; font-size:1.05rem; letter-spacing:.16em; text-transform:uppercase; font-weight:500; position:relative }
    color:#fff;
    font-size:1.4rem;
    letter-spacing:.08em;
    text-transform:uppercase;
    font-weight:500;
    position:relative;
  }
  .mobile-menu a::after{
    content:"";
    position:absolute;
    left:0;
    bottom:-4px;
    width:100%;
    height:1px;
    background:#fff;
    transform:scaleX(0);
    transform-origin:right;
    transition:transform .3s;
  }
  .mobile-menu a:hover::after{
    transform:scaleX(1);
    transform-origin:left;
  }
}


/* ===== Hero ===== */
.hero{ min-height:100vh; display:grid; place-items:center }
.hero__content{ text-align:center; padding:120px var(--pad) 60px }
.hero__name{ font-size:clamp(2rem,6vw,4rem); font-weight:800; letter-spacing:.22em; text-transform:uppercase; margin-bottom:16px }
#logoText{ color:#fff }
#logoText span{ display:inline-block; transition:transform .25s ease-out, text-shadow .3s ease-out }
#logoText span[data-space="true"]{ pointer-events:none }

.hero__slogan{
  margin-top:24px; font-size:clamp(1.1rem,2.4vw,1.6rem); letter-spacing:.22em; text-transform:uppercase;
  opacity:0; transform:translateY(8px) scale(.98); animation:heroSloganIntro 1.2s ease forwards .4s;
  display:flex; justify-content:center; flex-wrap:wrap; gap:.6em; cursor:default;
}
.hero__slogan span{ display:inline-block; transition:color .4s, text-shadow .4s; animation:subtleGlow 6s ease-in-out infinite alternate }
.hero__slogan span:hover{ color:#fff; text-shadow:0 0 10px rgba(255,255,255,.45),0 0 20px rgba(255,255,255,.25),0 0 30px rgba(255,255,255,.15) }

@keyframes heroSloganIntro{ to{ opacity:1; transform:translateY(0) scale(1) } }
@keyframes subtleGlow{ 0%,100%{ text-shadow:none } 50%{ text-shadow:0 0 6px rgba(255,255,255,.15) } }

/* ===== Interlude (меняющийся заголовок) ===== */
.interlude{ background:#fff; color:#0a0a0a; text-align:center; padding:140px var(--pad) }
.hero__title{ font-size:clamp(3rem,9.6vw,7rem); line-height:.9; font-weight:800; letter-spacing:-.02em }

/* ===== About ===== */
.stage{
  background:#fff;
  color:#0a0a0a;
  padding:160px var(--pad);
  text-align:center;
}
.stage#about{
  scroll-margin-top:45vh; /* при клике по «Об агентстве» в кадре interlude + about */
}
.stage__title{
  max-width:56rem;
  margin:0 auto;
  font-size:clamp(1.05rem,1.6vw,1.35rem);
  font-weight:400;
  line-height:1.7;
}

/* ===== Work ===== */
#work{ background:#fff !important; padding:0 }
#work::before,#work::after{ content:none !important }
.wall{ width:100vw; margin-left:calc(50% - 50vw); display:grid; grid-template-columns:repeat(12,1fr) }
.tile{ grid-column:span 4; position:relative; overflow:hidden }
@media (max-width:1100px){ .tile{ grid-column:span 6 } }
@media (max-width:680px){ .tile{ grid-column:1/-1 } }
.tile img{
  width:100%; height:auto; min-height:300px; display:block; background:#111;
  transition:transform .7s ease; aspect-ratio:16/9; object-fit:cover;
}
.tile:hover img{ transform:scale(1.06) }
.tile__caption{
  position:absolute; inset:0; display:grid; place-items:center;
  opacity:0; transition:opacity .35s, backdrop-filter .35s;
  background:rgba(0,0,0,.45); color:#fff; text-align:center; padding:12px;
}
.tile:hover .tile__caption{ opacity:1; backdrop-filter:blur(2px) }

/* ===== Contact ===== */
.contact{ padding:120px var(--pad); text-align:center }
.contact__grid{ max-width:var(--grid); margin:0 auto; display:flex; flex-direction:column; align-items:center; gap:28px }
.contact__lead{ font-weight:800; letter-spacing:.06em; text-transform:uppercase; font-size:clamp(1.4rem,3.6vw,2.2rem) }
.contact__sub{ color:var(--muted); margin-top:10px; max-width:52ch }

.form{
  background:linear-gradient(180deg,#0e0e0e,#0a0a0a);
  border:1px solid rgba(255,255,255,.08); border-radius:18px; padding:32px;
  box-shadow:0 10px 30px rgba(0,0,0,.35); max-width:460px; width:100%;
}
.row{ display:block }
.field{ position:relative; margin-bottom:18px }
.input{
  width:100%; padding:18px 14px; border-radius:14px; border:1px solid #1b1b1b; background:#0f0f0f; color:#fff;
  transition:border-color .25s, box-shadow .25s;
}
.input:focus{ border-color:#fff; box-shadow:0 0 0 2px rgba(255,255,255,.15) }
.label{
  position:absolute; left:16px; top:14px; padding:2px 6px; border-radius:8px; font-size:.85rem; color:#a9a9a9;
  background:rgba(255,255,255,.02); transform-origin:left top; transition:transform .2s, opacity .2s;
}
.field.filled .label, .input:focus + .label{ transform:translateY(-18px) scale(.88); opacity:.9; color:#fff }

.form__status{ min-height:20px; font-size:.9rem; color:var(--muted); margin-top:18px; transition:opacity .3s }
.form__status--success{ color:#9be7c4 }
.form__status--error{ color:#ff8a80 }

.actions{ display:flex; align-items:center; justify-content:center; gap:14px; margin-top:24px; flex-wrap:wrap }
.btn{
  position:relative; padding:16px 22px; border-radius:999px; border:1px solid #fff; background:#fff; color:#000;
  font-weight:700; text-transform:uppercase; cursor:pointer; transition:transform .25s, box-shadow .25s; isolation:isolate;
}
.btn:hover{ transform:translateY(-2px); box-shadow:0 10px 25px rgba(255,255,255,.1) }
.btn .glow{
  position:absolute; inset:-2px; border-radius:inherit;
  background:radial-gradient(280px 160px at var(--x,50%) var(--y,50%), rgba(255,255,255,.35), transparent 60%);
  opacity:0; transition:opacity .25s; filter:blur(14px);
}
.btn:hover .glow{ opacity:1 }

.icon-btn{
  width:44px; height:44px; border:1px solid #1b1b1b; border-radius:12px;
  display:flex; align-items:center; justify-content:center; background:#0f0f0f; color:#fff;
  transition:background .25s, border-color .25s, transform .2s;
}
.icon-btn:hover{ background:#fff; color:#000; border-color:#fff; transform:translateY(-2px) }
.icon-btn svg{ width:20px; height:20px; fill:currentColor }

/* ===== Footer ===== */
footer{ padding:48px var(--pad); color:#bdbdbd; text-align:center }
.footer-left{ font-weight:700; letter-spacing:.18em }
.footer-contact{ font-size:.9rem; display:flex; gap:10px; align-items:center; justify-content:center; margin-top:12px }
.footer-contact svg{ width:16px; height:16px; opacity:.8 }

/* ===== Premium cursor (desktop only) ===== */
@media (hover:hover) and (pointer:fine){
  html, body{ cursor:none !important }
  *, a, button, [role="button"], label, input, textarea, select, summary{ cursor:none !important; caret-color:transparent }

  .cursor-dot, .cursor-ring{
    position:fixed; top:0; left:0; transform:translate(-50%,-50%);
    pointer-events:none; z-index:2147483647; transition:opacity .25s ease;
    mix-blend-mode:difference;
  }
  .cursor-dot{ width:8px; height:8px; border-radius:50%; background:#fff; opacity:0 }
  .cursor-ring{ width:36px; height:36px; border-radius:50%; border:1px solid rgba(255,255,255,.7); opacity:0;
    transition:transform .28s cubic-bezier(.16,1,.3,1), border-color .2s, opacity .2s }
  .cursor-ring.cursor--hover{ transform:translate(-50%,-50%) scale(1.4); border-color:#fff }
}

/* ===== Mobile polish ===== */
@media (max-width:768px){
  #logoText{ display:inline-block; transform-origin:center }
  .stage#about{
    padding:80px 16px 96px;
    scroll-margin-top:32vh;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important }
}

