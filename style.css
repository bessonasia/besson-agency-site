
/* =========================
   NEBULA SHADER — HERO BACKGROUND
   Safe layering: does NOT override hero__content positioning
========================= */

.hero{
  position: relative;
  isolation: isolate; /* keeps negative z-index inside hero (premium + safe) */
}

.nebula-bg{
  position: absolute;
  inset: 0;
  z-index: -1;          /* behind everything in hero without touching hero__content */
  pointer-events: none;
  overflow: hidden;

  background: #050505;
  opacity: .9;
}

.nebula-bg canvas{
  width: 100%;
  height: 100%;
  display: block;
}

@media (prefers-reduced-motion: reduce){
  .nebula-bg{ display:none; }
}


/* =========================================================
Premium cursor (desktop only)
========================================================= */
@media (hover:hover) and (pointer:fine){
  html,body{cursor:none !important;}
  *,
  a,
  button,
  [role="button"],
  label,
  input,
  textarea,
  select,
  summary{
    cursor:none !important;
    caret-color:transparent;
  }

  .cursor-dot,
  .cursor-ring{
    position:fixed;
    top:0;left:0;
    transform:translate(-50%,-50%);
    pointer-events:none;
    z-index:2147483647;
    transition:opacity .25s ease;
    mix-blend-mode:difference;
  }
  .cursor-dot{
    width:8px;height:8px;
    border-radius:50%;
    background:#fff;
    opacity:0;
  }
  .cursor-ring{
    width:36px;height:36px;
    border-radius:50%;
    border:1px solid rgba(255,255,255,.7);
    opacity:0;
    transition:transform .28s cubic-bezier(.16,1,.3,1),
               border-color .2s,
               opacity .2s;
  }
  .cursor-ring.cursor--hover{
    transform:translate(-50%,-50%) scale(1.4);
    border-color:#fff;
  }
}


/* =========================================================
Contact Pill (PREMIUM) — ONLY THIS BLOCK
========================================================= */
.contact-pill{
  --pill-x: 84px;

  position:fixed;
  right:16px;
  top:50%;
  transform:translate3d(var(--pill-x), -50%, 0);
  opacity:0;
  pointer-events:none;

  width:36px;
  height:132px;
  border-radius:999px;
  border:1px solid rgba(0,0,0,.92);

  background:linear-gradient(180deg,#151515,#000);
  color:#f5f5f5;

  display:flex;
  align-items:center;
  justify-content:center;

  z-index:1300; /* поверх сферы/куполa */
  box-shadow:
    0 10px 26px rgba(0,0,0,.28),
    0 6px 18px rgba(0,0,0,.18),
    inset 0 1px 0 rgba(255,255,255,.12);

  transition:
    transform .38s cubic-bezier(.19,1,.22,1),
    opacity .28s ease,
    background .28s ease,
    color .28s ease,
    border-color .28s ease,
    box-shadow .28s ease,
    width .38s cubic-bezier(.19,1,.22,1),
    height .38s cubic-bezier(.19,1,.22,1);
  will-change: transform, width, height;
}

.contact-pill--visible{
  --pill-x: 0px;
  opacity:1;
  pointer-events:auto;
}

.contact-pill__label{
  font-size:.74rem;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-weight:500;
  line-height:1;
  user-select:none;
  white-space:nowrap;
  transform:rotate(-90deg);
  transform-origin:center;
}

/* на тёмном фоне — белая версия + подсветка */
.contact-pill--on-dark{
  background:linear-gradient(180deg,#ffffff,#e9e9e9);
  color:#111;
  border-color:rgba(255,255,255,.85);
  box-shadow:
    0 10px 26px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.7),
    0 0 28px rgba(255,255,255,.22),
    inset 0 1px 0 rgba(255,255,255,.96);
}

.contact-pill:hover{
  box-shadow:
    0 14px 34px rgba(0,0,0,.32),
    inset 0 1px 0 rgba(255,255,255,.16);
}
.contact-pill--on-dark:hover{
  box-shadow:
    0 14px 34px rgba(0,0,0,.38),
    0 0 0 1px rgba(255,255,255,.75),
    0 0 36px rgba(255,255,255,.26),
    inset 0 1px 0 rgba(255,255,255,.98);
}

/* open -> horizontal */
.contact-pill--open{
  width:236px;
  height:58px;
  justify-content:flex-start;
  padding:10px 14px;
}
.contact-pill--open .contact-pill__label{
  transform:rotate(0deg);
  font-size:.78rem;
}

/* icons inside */
.contact-pill__icons{
  position:absolute;
  top:50%;
  right:12px;
  transform:translateY(-50%) translateX(10px);
  opacity:0;
  pointer-events:none;

  display:flex;
  gap:8px;

  transition:
    opacity .22s ease,
    transform .28s cubic-bezier(.19,1,.22,1);
}
.contact-pill--open .contact-pill__icons{
  opacity:1;
  pointer-events:auto;
  transform:translateY(-50%) translateX(0);
}

/* bigger icons */
.contact-pill__icon{
  width:52px;
  height:52px;
  border-radius:999px;

  display:flex;
  align-items:center;
  justify-content:center;

  border:1px solid rgba(0,0,0,.9);
  background:#0b0b0b;
  color:#f5f5f5;

  box-shadow:
    0 10px 22px rgba(0,0,0,.22),
    inset 0 1px 0 rgba(255,255,255,.12);

  transition:
    transform .22s ease,
    background .22s ease,
    color .22s ease,
    border-color .22s ease,
    box-shadow .22s ease;
}
.contact-pill__icon svg{width:26px;height:26px;}
.contact-pill__icon:hover{transform:translateY(-2px);}

/* icons on white pill */
.contact-pill--on-dark .contact-pill__icon{
  background:#fff;
  color:#111;
  border-color:rgba(0,0,0,.12);
  box-shadow:
    0 10px 22px rgba(0,0,0,.24),
    inset 0 1px 0 rgba(255,255,255,.98);
}

/* mobile */
@media (max-width:768px){
  /* чуть меньше закрытая капсула */
  .contact-pill{
    right:12px;
    width:32px;
    height:112px;
  }

  /* ✅ открытая капсула: ширина адаптивная, чтобы текст всегда влезал
     и при этом НЕ было белых полей/горизонтального скролла */
  .contact-pill--open{
    width:min(240px, calc(100vw - 24px));
    height:56px;
  }

  /* ✅ чтобы надпись не переносилась/не обрезалась странно */
  .contact-pill__label{
    white-space:nowrap;
  }

  /* иконки НЕ трогаем (как ты просил) */
  .contact-pill__icon{
    width:48px;
    height:48px;
  }
  .contact-pill__icon svg{
    width:24px;
    height:24px;
  }
}


/* =========================================================
Nav + burger
========================================================= */
.nav{
  position:fixed;
  inset:0 0 auto 0;
  height:76px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 var(--pad);
  z-index:1000;
  background:transparent;
  color:#f5f5f5;
  transition:
    transform .32s cubic-bezier(.19,1,.22,1),
    color .25s ease;
}
.nav--hidden{transform:translateY(-110%);}
.brand__mark{
  font-weight:800;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-size:.92rem;
  transition:transform .25s,text-shadow .25s,opacity .25s;
}
.brand__mark:hover{text-shadow:0 0 8px rgba(255,255,255,.4);}

/* Десктопное меню */
.nav__group{display:flex;align-items:center;gap:20px;}
.link{
  position:relative;
  text-transform:uppercase;
  font-size:.8rem;
  letter-spacing:.18em;
  font-weight:500;
}
.link::after{
  content:"";
  position:absolute;
  left:0;right:0;
  bottom:-6px;
  height:1px;
  background:currentColor;
  opacity:.2;
  transform:scaleX(0);
  transform-origin:left;
  transition:transform .35s,opacity .35s;
}
.link:hover::after{transform:scaleX(1);opacity:.5;}

/* Бургер */
.burger{
  display:none;
  background:none;
  border:0;
  padding:0;
  width:32px;
  height:32px;
  flex-shrink:0;
  color:#e5e5e5;
  flex-direction:column;
  justify-content:center;
  gap:7px;
  cursor:pointer;
  transition:color .2s ease,transform .2s ease;
}
.burger__line{
  height:2px;
  border-radius:999px;
  background:currentColor;
  width:100%;
  transition:transform .25s ease,opacity .18s ease,background-color .2s ease;
}
.burger--active .burger__line:nth-child(1){transform:translateY(4px) rotate(45deg);}
.burger--active .burger__line:nth-child(2){transform:translateY(-4px) rotate(-45deg);}

/* Цвет шапки на светлом фоне */
.nav.nav--on-light{color:#111;}
.nav.nav--on-light .burger{color:#111;}

/* Мобильное меню */
.mobile-menu{
  position:fixed;
  top:0;right:0;bottom:0;
  width:min(80vw,320px);
  background:#000;
  color:#fff;
  padding:76px 28px 32px;
  transform:translateX(100%);
  opacity:0;
  pointer-events:none;
  transition:transform .28s ease,opacity .28s ease;
  z-index:999;
}
.mobile-menu ul{list-style:none;padding:0;margin:0;}
.mobile-menu li{margin:14px 0;}
.mobile-menu a{
  font-size:.92rem;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-weight:400;
}
.mobile-menu--open{
  transform:translateX(0);
  opacity:1;
  pointer-events:auto;
}
@media (min-width:769px){
  .mobile-menu{display:none !important;}
}

/* =========================
   LANG SWITCH — Departament-like (no separators)
   paste at END of style.css
========================= */

.lang{
  display:flex;
  align-items:center;
  gap:12px;                 /* без разделителей — просто воздух */
  margin-left:10px;         /* отделяем от последнего пункта меню */
}

.lang__btn{
  background:none;
  border:0;
  padding:6px 2px;          /* кликабельность, но визуально “текст” */
  color:inherit;
  cursor:pointer;

  font-size:.78rem;
  letter-spacing:.18em;
  text-transform:uppercase;
  font-weight:500;

  opacity:.58;
  transition: opacity .18s ease, transform .18s ease, text-shadow .18s ease;
}

.lang__btn:hover{
  opacity:.9;
  transform: translateY(-1px);
}

.lang__btn.is-active{
  opacity:1;
  text-shadow: 0 0 10px rgba(255,255,255,.18);
}

/* На светлых секциях nav уже становится чёрным через .nav--on-light,
   мы просто подстраиваем свечение, чтобы не было “грязи”. */
.nav.nav--on-light .lang__btn.is-active{
  text-shadow: none;
}

/* Mobile placement */
.lang--mobile{
  justify-content:center;
  margin-top:18px;
  padding-top:18px;
  opacity:.95;
}

/* Mobile: чуть крупнее, чтобы пальцем удобно */
@media (max-width:768px){
  .lang__btn{
    font-size:.82rem;
    padding:8px 4px;
  }
}


/* =========================================================
About
========================================================= */
.stage{
  background:#fff;
  color:#0a0a0a;
  padding:160px var(--pad);
  text-align:center;
}

.stage#about{
  background:#fff;
  color:#0a0a0a;

  /* ✅ сокращаем нижний "белый прямоугольник" */
  padding:20px var(--pad) 170px;

  text-align:center;
  scroll-margin-top:32vh;

  position:relative;
  z-index:1; /* ✅ больше не перекрывает купол целиком */
}

.stage__title{
  max-width:52rem;
  margin:0 auto;
  font-family:
    "SF Pro Text",
    "Inter",
    "Helvetica Neue",
    "Segoe UI",
    system-ui,
    sans-serif;
  font-weight:301;
  font-size:clamp(1.02rem,1.5vw,1.26rem);
  line-height:1.8;
  letter-spacing:.01em;

  position:relative;
  z-index:4; /* ✅ текст над куполом */
}

/* =========================================================
Globe Dome between ABOUT and WORK
========================================================= */
.globe-bridge{
  position:relative;
  background:#fff;
  padding:0;
  height:clamp(220px,50vh,620px);
  overflow:visible;
  z-index:2;
}

.globe-dome{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:100vw;
  height:clamp(680px,118vh,1250px);

  /* ✅ по умолчанию выше (достаём сферу вверх) */
  bottom:var(--domeBottom, -12vh);

  background:transparent; /* ✅ больше нет белой плашки */
  pointer-events:none;

  z-index:2; /* ✅ купол выше фона about, но ниже текста */
}

#globeCanvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  display:block;
}

.globe-label{
  position:absolute;
  opacity:0;
  padding:10px 14px;
  border-radius:999px;
  background:rgba(0,0,0,.88);
  color:#fff;
  font-size:.78rem;
  letter-spacing:.14em;
  text-transform:uppercase;
  white-space:nowrap;
  pointer-events:none;
  transform:translate(-50%,-140%);
  transition:opacity .2s ease, transform .2s ease;
  z-index:3;
}
.globe-label--visible{opacity:1;transform:translate(-50%,-165%);}
.globe-label--flash{animation:globeFlash .28s ease-out;}
@keyframes globeFlash{
  0%{ transform:translate(-50%,-150%) scale(.96); }
  100%{ transform:translate(-50%,-165%) scale(1); }
}

/* mobile */
@media (max-width:768px){
  .globe-bridge{height:clamp(180px,30vh,340px);}
  .globe-dome{
    height:clamp(440px,86vh,820px);
    bottom:var(--domeBottom, -18vh); /* ✅ мобила поднята */
  }
}

/* desktop */
@media (min-width:769px){
  .globe-bridge{
    height:clamp(470px,70vh,750px);
  }
  .globe-dome{
    height:1100px;
  }
}

/* Проекты выше купола */
#work{position:relative;z-index:5;}




/* =========================================================
Reset & base
========================================================= */
*{box-sizing:border-box;margin:0}
html,body{height:100%;scroll-behavior:smooth}
html{
  -webkit-text-size-adjust:100%;
  text-size-adjust:100%;
  -webkit-tap-highlight-color:transparent;
}
:root{
  --bg:#0a0a0a;
  --fg:#f5f5f5;
  --muted:#bdbdbd;
  --pad:clamp(16px,2.4vw,32px);
  --grid:max(68rem,74vw);
}
body{
  font-family:'Inter','Helvetica Neue','Segoe UI','Roboto',system-ui,sans-serif;
  background:var(--bg);
  color:var(--fg);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
a{color:inherit;text-decoration:none}


/* =========================================================
Hero
========================================================= */
.hero{
  min-height:100vh;
  display:grid;
  place-items:center;
  position:relative;
  overflow:hidden;
}
.hero__content{text-align:center;padding:120px var(--pad) 80px;}
.hero__name{
  font-size:clamp(2rem,6vw,4rem);
  font-weight:800;
  letter-spacing:.22em;
  text-transform:uppercase;
  margin-bottom:16px;
}
#logoText span{display:inline-block;transition:transform .22s ease-out,text-shadow .3s ease-out;}
#logoText span[data-space="true"]{pointer-events:none;}

.hero__slogan{
  margin-top:24px;
  font-size:clamp(1.1rem,2.4vw,1.6rem);
  letter-spacing:.22em;
  text-transform:uppercase;
  opacity:0;
  transform:translateY(8px) scale(.98);
  animation:heroSloganIntro 1.2s ease forwards .4s;
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:.6em;
  cursor:default;
}
.hero__slogan span{
  display:inline-block;
  transition:color .4s,text-shadow .4s;
  animation:subtleGlow 6s ease-in-out infinite alternate;
}
.hero__slogan span:hover{
  color:#fff;
  text-shadow:0 0 10px rgba(255,255,255,.45),
             0 0 20px rgba(255,255,255,.25),
             0 0 30px rgba(255,255,255,.15);
}

/* Индикатор скролла */
.hero__scroll{
  position:absolute;
  left:50%;
  bottom:40px;
  transform:translateX(-50%);
  opacity:0;
  animation:indicatorFadeIn 1.2s ease forwards .9s;
  pointer-events:none;
}
.scroll-indicator__mouse{
  width:22px;
  height:36px;
  border-radius:14px;
  border:1.5px solid rgba(255,255,255,.7);
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding-top:7px;
  box-shadow:0 0 10px rgba(0,0,0,.6);
}
.scroll-indicator__wheel{
  width:3px;
  height:7px;
  border-radius:999px;
  background:rgba(255,255,255,.9);
  animation:scrollWheel 1.5s ease-in-out infinite;
}

/* Белая панель */
.hero__reveal{
  position:absolute;
  left:0;bottom:0;
  width:100%;
  height:40vh;
  background:#ffffff;
  transform:translateY(40vh);
  pointer-events:none;
}

/* Animations */
@keyframes heroSloganIntro{to{opacity:1;transform:translateY(0) scale(1);}}
@keyframes subtleGlow{
  0%,100%{text-shadow:none}
  50%{text-shadow:0 0 6px rgba(255,255,255,.15)}
}
@keyframes indicatorFadeIn{to{opacity:1;}}
@keyframes scrollWheel{
  0%{transform:translateY(0);opacity:1;}
  60%{transform:translateY(8px);opacity:0.2;}
  100%{transform:translateY(0);opacity:0;}
}

/* =========================================================
Interlude
========================================================= */
.interlude{
  background:#fff;
  color:#0a0a0a;
  text-align:center;
  padding:140px var(--pad) 80px;
}
.hero__title{
  font-size:clamp(3rem,9.6vw,7rem);
  line-height:.9;
  font-weight:800;
  letter-spacing:-.02em;
}


/* =========================================================
Work — reveal animation (SAFE)
Анимация включается только при .js на <html>
========================================================= */

/* База: если JS не работает — проекты ВСЕГДА видны */
.tile{
  opacity:1;
  transform:none;
  filter:none;
}

/* Когда JS включён — стартовое скрытие */
.js .tile{
  opacity:0;
  transform:translate3d(0,18px,0) scale(.985);
  filter:blur(8px);
  will-change:transform, opacity, filter;
  transition:
    opacity .62s cubic-bezier(.19,1,.22,1),
    transform .82s cubic-bezier(.19,1,.22,1),
    filter .82s cubic-bezier(.19,1,.22,1);
  transition-delay:var(--reveal-delay, 0ms);
}

/* "Шторка" включается тоже только при JS */
.js .tile::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:linear-gradient(180deg, #050505 0%, #000 100%);
  transform:translate3d(0,0,0);
  will-change:transform;
  transition:transform .92s cubic-bezier(.19,1,.22,1);
  transition-delay:calc(var(--reveal-delay, 0ms) + 60ms);
  z-index:2;
}

/* В кадре */
.js .tile.is-in{
  opacity:1;
  transform:translate3d(0,0,0) scale(1);
  filter:blur(0px);
}

/* Шторка уезжает */
.js .tile.is-in::before{
  transform:translate3d(0,-101%,0);
}

/* caption поверх */
.tile__caption{ z-index:3; }

/* Мобилка: меньше blur */
@media (max-width:768px){
  .js .tile{
    transform:translate3d(0,14px,0) scale(.99);
    filter:blur(5px);
    transition-duration:.56s, .74s, .74s;
  }
  .js .tile::before{ transition-duration:.82s; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .js .tile,
  .js .tile::before{
    transition:none !important;
    transform:none !important;
    filter:none !important;
  }
  .js .tile{ opacity:1 !important; }
  .js .tile::before{ display:none !important; }
}


/* =========================================================
Work
========================================================= */
#work{background:#050505;padding:0;}
.wall{
  width:100%;
  margin:0 auto;
  display:grid;
  grid-template-columns:repeat(12,1fr);
}
.tile{grid-column:span 4;position:relative;overflow:hidden;}
@media (max-width:1100px){.tile{grid-column:span 6;}}
@media (max-width:680px){.tile{grid-column:1/-1;}}
.tile img{
  width:100%;
  height:auto;
  display:block;
  background:#111;
  transition:transform .7s ease;
  aspect-ratio:16/9;
  object-fit:cover;
  min-height:clamp(320px, 28vw, 460px);
}
.tile:hover img{transform:scale(1.06);}
.tile__caption{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  opacity:0;
  transition:opacity .35s,backdrop-filter .35s;
  background:rgba(0,0,0,.45);
  color:#fff;
  text-align:center;
  padding:12px;
}
.tile:hover .tile__caption{opacity:1;backdrop-filter:blur(2px);}










/* =========================================================
Mobile polish
========================================================= */
@media (max-width:768px){
  .nav__group{display:none;}
  .burger{display:flex;}

  .nav.nav--menu-open .brand__mark{
    opacity:0;
    pointer-events:none;
  }
  .nav.nav--menu-open .burger{
    position:absolute;
    left:var(--pad);
    right:auto;
  }

  .stage#about{
    padding:80px 16px 120px; /* ✅ меньше прямоугольник + не мешает куполу */
    scroll-margin-top:32vh;
  }
}

/* =========================================================
Reduced motion
========================================================= */
@media (prefers-reduced-motion:reduce){
  *{animation:none !important;transition:none !important;}
}



/* =========================================================
VIDEO REVIEWS (B) — safe isolated block
========================================================= */
.reviews{
  background:#050505;
  color:#f5f5f5;

  /* “выезд из-за клиентов” */
  margin-top:-64px;
  padding:120px var(--pad) 110px;

  position:relative;
  z-index:6;
}

.reviews__inner{
  max-width:var(--grid);
  margin:0 auto;

  display:grid;
  gap:18px;
  align-items:start;
}

@media (min-width:980px){
  .reviews__inner{
    grid-template-columns: 1.05fr 0.95fr;
    grid-template-areas:
      "head card"
      "tabs card";
    column-gap: clamp(26px, 4vw, 64px);
    row-gap: 18px;
    align-items:center;
  }
  .reviews__head{ grid-area: head; }
  .reviews__card{ grid-area: card; }
  .reviews__tabs{ grid-area: tabs; }
}

.reviews__kicker{
  font-size:.78rem;
  letter-spacing:.22em;
  text-transform:uppercase;
  opacity:.75;
  margin:0 0 10px;
}

.reviews__title{
  font-size:clamp(1.6rem, 3.4vw, 2.4rem);
  font-weight:800;
  letter-spacing:.06em;
  text-transform:uppercase;
  margin:0 0 12px;
}

.reviews__lead{
  color:#cfcfcf;
  max-width:52ch;
  line-height:1.75;
  margin:0;
}

/* card */
.reviews__card{
  position:relative;
  overflow:hidden;
  border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background:#0b0b0b;

  width:100%;
  min-height: clamp(280px, 34vw, 420px);

  cursor:pointer;
  display:grid;
  place-items:center;

  box-shadow: 0 18px 54px rgba(0,0,0,.55);
  transition: transform .55s cubic-bezier(.19,1,.22,1), box-shadow .55s ease;
}
.reviews__card:hover{
  transform: translateY(-3px);
  box-shadow: 0 28px 80px rgba(0,0,0,.65);
}

.reviews__thumb{
  position:absolute;
  inset:0;
  background:
    radial-gradient(900px 520px at 30% 20%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(700px 420px at 80% 70%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, #0c0c0c, #070707);
  transform: scale(1.04);
}
.reviews__card::after{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(80% 70% at 50% 40%, rgba(0,0,0,0) 0%, rgba(0,0,0,.60) 72%, rgba(0,0,0,.82) 100%);
  pointer-events:none;
}

.reviews__play{
  position:relative;
  width:86px;
  height:86px;
  display:grid;
  place-items:center;
  border-radius:999px;
  z-index:2;
}
.reviews__playRing{
  position:absolute;
  inset:0;
  border-radius:inherit;
  border:1px solid rgba(255,255,255,.58);
  box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 14px 34px rgba(0,0,0,.55);
  backdrop-filter: blur(6px);
}
.reviews__playTri{
  width:0;height:0;
  border-left:14px solid rgba(255,255,255,.92);
  border-top:9px solid transparent;
  border-bottom:9px solid transparent;
  transform: translateX(2px);
}

.reviews__caption{
  position:absolute;
  left:16px;
  right:16px;
  bottom:16px;
  z-index:2;

  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.30);
  backdrop-filter: blur(8px);
  border-radius:16px;
  padding:14px 14px 12px;

  text-align:left;
}
.reviews__quote{
  display:block;
  color:#e9e9e9;
  line-height:1.55;
  margin-bottom:8px;
}
.reviews__meta{
  display:block;
  color:#bdbdbd;
  font-size:.78rem;
  letter-spacing:.18em;
  text-transform:uppercase;
}

/* tabs */
.reviews__tabs{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
.reviews__tab{
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.22);
  color:#e9e9e9;

  padding:10px 12px;
  border-radius:999px;

  font-size:.82rem;
  letter-spacing:.16em;
  text-transform:uppercase;

  cursor:pointer;
  transition: transform .35s cubic-bezier(.19,1,.22,1), background .35s ease, border-color .35s ease;
}
.reviews__tab:hover{ transform: translateY(-1px); }
.reviews__tab span{ opacity:.72; margin-right:8px; }
.reviews__tab.is-active{
  background:#fff;
  color:#000;
  border-color:#fff;
}

/* =========================================================
Repeatable reveal (SAFE): by default everything visible.
JS adds .rv-ready to #reviews to enable animation.
========================================================= */
#reviews.rv-ready [data-rv]{
  opacity:0;
  transform: translateY(16px);
  filter: blur(3px);
  transition:
    opacity .85s cubic-bezier(.19,1,.22,1),
    transform .85s cubic-bezier(.19,1,.22,1),
    filter .85s cubic-bezier(.19,1,.22,1);
  will-change: opacity, transform, filter;
}
#reviews.rv-ready [data-rv].is-inview{
  opacity:1;
  transform: translateY(0);
  filter: blur(0);
}

/* =========================================================
Modal — isolated and НЕ использует твой nav-lock
========================================================= */
body.reviews-lock{ overflow:hidden; }

.reviews-modal{
  position:fixed;
  inset:0;
  z-index:2200;
  display:none;
}
.reviews-modal.is-open{ display:block; }

.reviews-modal__bg{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.72);
  backdrop-filter: blur(8px);
}

.reviews-modal__panel{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  width:min(980px, calc(100vw - 28px));
  border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background:#050505;
  overflow:hidden;
  box-shadow: 0 24px 90px rgba(0,0,0,.65);
}

.reviews-modal__frame{
  aspect-ratio: 16/9;
  width:100%;
  background:#000;
}
.reviews-modal__frame iframe,
.reviews-modal__frame video{
  width:100%;
  height:100%;
  display:block;
  border:0;
}

.reviews-modal__close{
  position:absolute;
  top:14px;
  right:14px;
  width:44px;
  height:44px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.35);
  color:#fff;
  cursor:pointer;
  z-index:2;
}
.reviews-modal__close::before,
.reviews-modal__close::after{
  content:"";
  position:absolute;
  left:50%;
  top:50%;
  width:18px;
  height:2px;
  background:currentColor;
  transform-origin:center;
}
.reviews-modal__close::before{ transform:translate(-50%,-50%) rotate(45deg); }
.reviews-modal__close::after{  transform:translate(-50%,-50%) rotate(-45deg); }

@media (prefers-reduced-motion:reduce){
  #reviews.rv-ready [data-rv]{ transition:none; filter:none; }
  .reviews__card{ transition:none; }
}





/* ВИДЕО-ОТЗЫВЫ — начинаются под клиентами */
.video-reviews{
  position: relative;
  z-index: 1;
  background: var(--bg, #050505);
  margin-top: calc(-1 * var(--stack-overlap));
  padding-top: var(--stack-overlap);
}

/* Анимируем не всю секцию, а внутренний контейнер */
.video-reviews__inner{
  transform: translate3d(0, var(--rv-shift), 0);
  opacity: 0;
  filter: blur(10px);
  transition:
    transform 1.1s cubic-bezier(.22,.61,.36,1),
    opacity  1.1s cubic-bezier(.22,.61,.36,1),
    filter   1.1s cubic-bezier(.22,.61,.36,1);
  will-change: transform, opacity, filter;
}

.video-reviews.is-inview .video-reviews__inner{
  transform: translate3d(0, 0, 0);
  opacity: 1;
  filter: blur(0);
}

/* На мобиле делаем перекрытие мягче (или вообще можно выключить, если захочешь) */
@media (max-width: 820px){
  :root{
    --stack-overlap: 28px;
    --rv-shift: 90px;
  }
}
/* =========================
   TEAM (premium carousel)
========================= */
.team{
  position: relative;
  padding: clamp(56px, 7vw, 96px) 0;
}

.team__inner{
  width: min(1180px, calc(100% - 48px));
  margin: 0 auto;
}

.team__kicker{
  font-size: 12px;
  letter-spacing: .28em;
  opacity: .72;
  text-transform: uppercase;
  margin-bottom: 10px;
}

.team__headRow{
  display: flex;
  align-items: flex-end;
  justify-content: space-between;
  gap: 18px;
}

.team__title{
  margin: 0;
  font-size: clamp(28px, 4.2vw, 52px);
  letter-spacing: .06em;
  text-transform: uppercase;
  line-height: 1.05;
}

.team__sub{
  margin: 12px 0 0;
  max-width: 760px;
  opacity: .70;
  line-height: 1.6;
}

.team__controls{
  display: flex;
  gap: 10px;
  flex-shrink: 0;
}

/* Кнопки навигации — премиальные круги */
.team-nav-btn{
  width: 56px;
  height: 56px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.28);
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  cursor: pointer;
  color: rgba(255,255,255,.92);
  transition: transform .25s ease, border-color .25s ease, background .25s ease, box-shadow .25s ease;
}

.team-nav-btn svg{
  width: 20px;
  height: 20px;
}

.team-nav-btn:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,.42);
  background: rgba(0,0,0,.46);
  box-shadow: 0 18px 40px rgba(0,0,0,.45);
}

.team-nav-btn:active{
  transform: translateY(0);
}

.team__railWrap{
  position: relative;
  margin-top: 28px;
}

/* “Виньетка” по краям, чтобы выглядело дороже */
.team__railWrap::before,
.team__railWrap::after{
  content:"";
  position:absolute;
  top:0;
  bottom:44px;
  width: 64px;
  pointer-events:none;
  z-index: 2;
}
.team__railWrap::before{
  left: -6px;
  background: linear-gradient(90deg, rgba(0,0,0,.85), rgba(0,0,0,0));
}
.team__railWrap::after{
  right: -6px;
  background: linear-gradient(270deg, rgba(0,0,0,.85), rgba(0,0,0,0));
}

.team__rail{
  display: flex;
  gap: 16px;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 8px 6px 18px;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}
.team__rail::-webkit-scrollbar{ display:none; }

/* Карточка */
.team-card{
  scroll-snap-align: start;
  flex: 0 0 clamp(250px, 28vw, 320px);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(120% 120% at 20% 10%, rgba(255,255,255,.08), rgba(255,255,255,0) 55%),
    rgba(255,255,255,.03);
  box-shadow: 0 30px 80px rgba(0,0,0,.55);
  overflow: hidden;
  position: relative;
  transform: translateZ(0);
  transition: transform .45s cubic-bezier(.22,.61,.36,1), border-color .45s cubic-bezier(.22,.61,.36,1);
}

/* Постоянная “живая” микродинамика карточек */
@keyframes teamFloat{
  0%   { transform: translateY(0) }
  50%  { transform: translateY(-6px) }
  100% { transform: translateY(0) }
}
.team-card{
  animation: teamFloat 7.5s ease-in-out infinite;
}
.team-card:nth-child(2n){ animation-duration: 8.6s; animation-delay: -1.8s; }
.team-card:nth-child(3n){ animation-duration: 9.3s; animation-delay: -3.1s; }

.team-card::after{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius: 24px;
  background: radial-gradient(70% 60% at 30% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 55%);
  opacity: .55;
  pointer-events:none;
  mix-blend-mode: screen;
}

.team-card:hover{
  transform: translateY(-4px);
  border-color: rgba(255,255,255,.22);
}

.team-card__media{
  aspect-ratio: 4 / 5;
  background: rgba(255,255,255,.04);
  position: relative;
  overflow: hidden;
}

.team-card__media img{
  width: 100%;
  height: 100%;
  object-fit: cover;
  display:block;
  transform: scale(1.02);
  filter: grayscale(1) contrast(1.08) brightness(.92);
}

/* Если фото уже подготовлено “ч/б + красный акцент” — фильтр не трогаем */
.team-card.is-colorpop .team-card__media img{
  filter: none;
}

/* Текст */
.team-card__body{
  padding: 16px 16px 18px;
}

.team-card__name{
  font-size: 14px;
  letter-spacing: .22em;
  text-transform: uppercase;
  opacity: .95;
}

.team-card__role{
  margin-top: 8px;
  font-size: 16px;
  letter-spacing: .02em;
  opacity: .86;
}

.team-card__meta{
  margin-top: 12px;
  display:flex;
  align-items:center;
  gap: 10px;
  font-size: 13px;
  opacity: .72;
  letter-spacing: .06em;
  text-transform: uppercase;
}

.team-card__dot{
  width: 4px;
  height: 4px;
  border-radius: 999px;
  background: rgba(255,255,255,.45);
}

/* “Колёсики” */
.team__dots{
  display:flex;
  justify-content: center;
  gap: 10px;
  padding-top: 10px;
}

.team-dot{
  width: 7px;
  height: 7px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.35);
  background: rgba(255,255,255,.08);
  cursor: pointer;
  padding: 0;
  transition: transform .25s ease, background .25s ease, border-color .25s ease;
}

.team-dot.is-active{
  background: rgba(255,255,255,.85);
  border-color: rgba(255,255,255,.85);
  transform: scale(1.25);
}

/* Мобилка: стрелки можно оставить, но если захочешь — можно скрыть */
@media (max-width: 680px){
  .team__headRow{
    align-items: flex-start;
  }
  .team-nav-btn{
    width: 52px;
    height: 52px;
  }
}

/* Уважение к prefers-reduced-motion */
@media (prefers-reduced-motion: reduce){
  .team-card{ animation: none; }
  .team__rail{ scroll-behavior: auto; }
}

/* =========================
   TEAM — reveal on scroll (repeat)
========================= */

/* Базовое состояние (скрыто) */
.team .reveal {
  opacity: 0;
  transform: translateY(18px);
  filter: blur(8px);
  transition:
    transform 1.05s cubic-bezier(.22,.61,.36,1),
    opacity 1.05s cubic-bezier(.22,.61,.36,1),
    filter 1.05s cubic-bezier(.22,.61,.36,1);
  will-change: transform, opacity, filter;
}

/* Видимое состояние */
.team .reveal.is-inview {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* Ступеньки (если задано из JS) */
.team .reveal.is-inview {
  transition-delay: var(--td, 0s);
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .team .reveal,
  .team .reveal.is-inview{
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}


/* =========================================================
   CLIENTS — Infinite Logo Marquee (Single Lane, Dark)
   Paste at end of style.css
========================================================= */

#clients.clients--marquee{
  background: #050505;
  color: rgba(245,245,245,.92);
  padding: clamp(72px, 7vw, 112px) var(--pad, 18px) clamp(84px, 7vw, 124px);
}

#clients.clients--marquee .clients__inner{
  max-width: var(--grid, 1120px);
  margin: 0 auto;
}

#clients.clients--marquee .clients__head{
  text-align: center;
  margin: 0 0 clamp(22px, 3vw, 40px);
}

#clients.clients--marquee .clients__headline{
  margin: 0 auto;
  max-width: 32ch;
  text-wrap: balance;

  font-size: clamp(26px, 2.8vw, 42px);
  letter-spacing: -0.02em;
  line-height: 1.06;
  font-weight: 700;
}

/* Marquee */
#clients.clients--marquee .logo-marquee{
  --gap: 42px;
  --logo-h: 18px;
  --fade: 18%;
}

#clients.clients--marquee .logo-marquee__viewport{
  overflow: hidden;
  padding: 16px 0;

  /* мягкая маска по краям как у референса */
  -webkit-mask-image: linear-gradient(to right, transparent, #000 var(--fade), #000 calc(100% - var(--fade)), transparent);
  mask-image: linear-gradient(to right, transparent, #000 var(--fade), #000 calc(100% - var(--fade)), transparent);
}

#clients.clients--marquee .logo-marquee__track{
  display: flex;
  width: max-content;
  will-change: transform;

  /* выставляется JS */
  animation: logoMarquee var(--duration, 22s) linear infinite;
}

#clients.clients--marquee .logo-marquee__set{
  display: flex;
  align-items: center;
  gap: var(--gap);
  padding-right: var(--gap);
}

/* Logo styling */
#clients.clients--marquee .logo-marquee__logo{
  height: var(--logo-h);
  width: auto;
  display: block;
  user-select: none;
  pointer-events: none;

  opacity: .86;

  /* “white on black” как в референсе (инверт) */
  filter: brightness(0) invert(1);
  transform: translateZ(0);
  transition: opacity 220ms ease, filter 220ms ease;
}

/* если какой-то логотип уже белый и инверт его портит — добавь класс logo-marquee__logo--native */
#clients.clients--marquee .logo-marquee__logo--native{
  filter: none;
  opacity: .92;
}

@media (min-width: 768px){
  #clients.clients--marquee .logo-marquee{ --logo-h: 20px; }
}

@keyframes logoMarquee{
  from{ transform: translateX(0); }
  to  { transform: translateX(calc(-1 * var(--distance, 600px))); }
}

/* hover slowdown (desktop only) */
@media (hover:hover) and (pointer:fine){
  #clients.clients--marquee .logo-marquee:hover .logo-marquee__track{
    animation-duration: var(--duration-hover, var(--duration, 22s));
  }
}

/* Reduced motion: без анимации, даём горизонтальный скролл */
@media (prefers-reduced-motion: reduce){
  #clients.clients--marquee .logo-marquee__track{ animation: none !important; }
  #clients.clients--marquee .logo-marquee__viewport{ overflow-x: auto; }
  #clients.clients--marquee .logo-marquee__viewport::-webkit-scrollbar{ height: 8px; }
}
/* =========================================================
   CLIENTS MARQUEE — make motion rAF-driven (no CSS reset jumps)
========================================================= */
#clients.clients--marquee .logo-marquee__track{
  animation: none !important;          /* убираем keyframes */
  transform: translate3d(0,0,0);       /* старт */
  will-change: transform;
}

/* ====== TEAM mobile: smooth swipe + centered cards ====== */
@media (max-width: 768px){
  /* класс .team-snap мы повесим через JS на правильный контейнер */
  #team .team-snap{
    display: flex !important;
    gap: 14px;
    overflow-x: auto !important;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    scroll-snap-stop: always;
    overscroll-behavior-x: contain;
    touch-action: pan-x;

    /* чтобы крайние карточки тоже вставали по центру */
    padding-inline: calc((100vw - min(78vw, 360px)) / 2);
    scroll-padding-inline: calc((100vw - min(78vw, 360px)) / 2);

    /* если твоя текущая карусель двигается transform'ом — глушим на мобилке */
    transform: none !important;
  }

  #team .team-snap::-webkit-scrollbar{ display: none; }
  #team .team-snap{ scrollbar-width: none; }

  #team .team-card{
    flex: 0 0 min(78vw, 360px);
    scroll-snap-align: center;
  }
}
/* === TEAM x CONTACT: нормальная пагинация + воздух между секциями === */

/* 1) Чётко отделяем Team от формы */
#team { padding-bottom: clamp(64px, 8vw, 120px) !important; }
#contact { padding-top: clamp(64px, 8vw, 120px) !important; }

/* 2) Колёсики (dots) — НЕ absolute, всегда под карточками */
#team .team__dots,
#teamDots.team__dots {
  position: relative !important;
  top: auto !important;
  right: auto !important;
  bottom: auto !important;
  left: auto !important;
  transform: none !important;

  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;

  margin-top: 18px;
  margin-bottom: 0;
  padding-bottom: 18px; /* чтобы точки не прилипали к следующей секции */
  z-index: 3;
}


/* =========================
   TEAM — mobile swipe + page scroll fix (SAFE)
   paste at end of style.css
========================= */
@media (max-width: 900px) {
  :root {
    --teamCardW: min(78vw, 360px);
    --teamSidePad: calc((100vw - var(--teamCardW)) / 2);
  }

  /* 1) Главный фикс: НЕ блокируем вертикальный скролл */
  #team .team__rail,
  #team .team__track,
  #team .team__scroller,
  #team .team__cards,
  #team .team__list,
  #team .team-card {
    touch-action: pan-x pan-y !important;
  }

  /* 2) Контейнер со свайпом (покрываем разные возможные классы) */
  #team .team__rail,
  #team .team__track,
  #team .team__scroller,
  #team .team__cards,
  #team .team__list {
    overflow-x: auto !important;
    overflow-y: visible !important;
    -webkit-overflow-scrolling: touch !important;

    /* Лёгкий snap вместо “липкого” */
    scroll-snap-type: x proximity !important;

    /* Центровка карточек */
    padding-inline: var(--teamSidePad) !important;
    scroll-padding-inline: var(--teamSidePad) !important;

    /* чтобы не было “борьбы” со свайпом */
    scroll-behavior: auto !important;

    /* не даём странице дёргаться по X */
    overscroll-behavior-x: contain;
    overscroll-behavior-y: auto;
  }

  /* 3) Карточки — центрируются и не “залипают” */
  #team .team-card {
    scroll-snap-align: center !important;
    scroll-snap-stop: normal !important; /* если было always */
    flex: 0 0 var(--teamCardW) !important;
    min-width: var(--teamCardW) !important;
  }
}


/* ===== NDA-first docs block (patch) ===== */

.docs{
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px;
  padding:16px;
  margin:16px 0;
  background:rgba(255,255,255,.03);
  backdrop-filter: blur(6px);
}

.docs__head{ margin:0 0 12px; }
.docs__title{
  margin:0 0 6px;
  font-size:14px;
  letter-spacing:.06em;
  text-transform:uppercase;
  opacity:.92;
}
.docs__hint{
  margin:0;
  font-size:13px;
  line-height:1.35;
  opacity:.75;
  max-width:60ch;
}

.docs__file{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  border:0;
}

.docs__ui{
  display:flex;
  align-items:center;
  gap:12px;
  border:1px solid rgba(255,255,255,.18);
  border-radius:14px;
  padding:12px;
  cursor:pointer;
  background:rgba(0,0,0,.20);
  transition: transform .15s ease, border-color .15s ease;
}
.docs__ui:hover{
  border-color:rgba(255,255,255,.30);
  transform: translateY(-1px);
}
.docs__btn{
  display:inline-flex;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.22);
  background:rgba(255,255,255,.06);
  font-size:13px;
  letter-spacing:.02em;
  white-space:nowrap;
}
.docs__text{
  font-size:13px;
  opacity:.78;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
.docs__status{
  margin:10px 0 0;
  font-size:12px;
  line-height:1.35;
  opacity:.78;
}

/* Чтобы email-ряд был на всю ширину */
.row--single{ grid-template-columns: 1fr !important; }

/* Mobile */
@media (max-width:560px){
  .docs{ padding:14px; }
  .docs__ui{ flex-direction:column; align-items:flex-start; }
}




/* =========================================
   HOWPATH — Museum style (premium light)
   Paste at END of style.css
========================================= */
.howpath{
  background:
    radial-gradient(1200px 650px at 18% -10%, rgba(0,0,0,.045), rgba(0,0,0,0) 58%),
    radial-gradient(900px 520px at 88% 0%, rgba(0,0,0,.03), rgba(0,0,0,0) 62%),
    linear-gradient(180deg, #f7f4ef 0%, #f4f1eb 52%, #f7f4ef 100%),
    repeating-linear-gradient(0deg, rgba(0,0,0,.01) 0 1px, rgba(0,0,0,0) 1px 7px);
  color: #0b0b0b;
}

.howpath__inner{
  width: min(1120px, calc(100% - 48px));
  margin: 0 auto;
  padding: clamp(64px, 7vw, 108px) 0;
}

.howpath__head{
  text-align: center;
  margin-bottom: clamp(28px, 3vw, 44px);
}

.howpath__kicker{
  margin: 0 0 10px;
  font-size: 12px;
  letter-spacing: .28em;
  text-transform: uppercase;
  color: rgba(0,0,0,.55);
}

.howpath__title{
  margin: 0;
  font-size: clamp(26px, 2.8vw, 42px);
  letter-spacing: -0.02em;
  line-height: 1.06;
}

/* layout */
.howpath__layout{
  display: grid;
  grid-template-columns: 180px 1fr;
  gap: clamp(24px, 3vw, 48px);
  align-items: start;
}

/* sticky “museum rail” */
.howpath__rail{
  position: sticky;
  top: 96px; /* под фикс-нав, если нужно — подними/опусти */
  align-self: start;
}

.howpath__railNo{
  font-variant-numeric: tabular-nums;
  font-size: clamp(56px, 6.5vw, 96px);
  letter-spacing: .02em;
  line-height: .95;
  color: rgba(0,0,0,.22);
}

.howpath__railName{
  margin-top: 12px;
  font-size: 12px;
  letter-spacing: .28em;
  text-transform: uppercase;
  color: rgba(0,0,0,.72);
}

/* list */
.howpath__list{
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
}

/* “exhibit row” — no cards, no frames */
.howpath__item{
  display: grid;
  grid-template-columns: 96px 1fr;
  column-gap: clamp(18px, 2vw, 28px);
  padding: clamp(18px, 2.2vw, 26px) 0;
  outline: none;
  opacity: .72;
}

.howpath__item::after{
  content:"";
  grid-column: 1 / -1;
  height: 1px;
  margin-top: clamp(18px, 2.2vw, 26px);
  background: linear-gradient(90deg,
    rgba(0,0,0,0),
    rgba(0,0,0,.11),
    rgba(0,0,0,0)
  );
}

.howpath__item:last-child::after{
  display: none;
}

/* museum plate (tiny label, no borders) */
.howpath__plate{
  display: grid;
  justify-items: end;
  row-gap: 8px;
  padding-top: 2px;
}

.howpath__plateNo{
  font-variant-numeric: tabular-nums;
  font-size: 18px;
  letter-spacing: .12em;
  color: rgba(0,0,0,.32);
}

.howpath__plateTag{
  font-size: 11px;
  letter-spacing: .34em;
  text-transform: uppercase;
  color: rgba(0,0,0,.42);
}

/* content */
.howpath__h{
  margin: 0 0 10px;
  font-size: 14px;
  letter-spacing: .22em;
  text-transform: uppercase;
  color: rgba(0,0,0,.78);
  line-height: 1.2;
}

.howpath__p{
  margin: 0;
  font-size: clamp(15px, 1.45vw, 18px);
  letter-spacing: -0.01em;
  line-height: 1.25;
  color: rgba(0,0,0,.78);

  /* 1 строка описания */
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* active / focus (subtle, premium) */
.howpath__item.is-active{
  opacity: 1;
}

.howpath__item.is-active .howpath__plateNo{
  color: rgba(0,0,0,.62);
}

.howpath__item.is-active .howpath__h,
.howpath__item.is-active .howpath__p{
  color: rgba(0,0,0,.92);
}

.howpath__item:focus-visible{
  opacity: 1;
}

@media (hover:hover){
  .howpath__item:hover{ opacity: 1; }
}

/* mobile */
@media (max-width: 820px){
  .howpath__layout{
    grid-template-columns: 1fr;
    gap: 18px;
  }

  .howpath__rail{
    position: relative;
    top: auto;
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    padding: 10px 0 6px;
  }

  .howpath__railNo{
    font-size: 44px;
    line-height: 1;
  }

  .howpath__item{
    grid-template-columns: 72px 1fr;
  }

  .howpath__p{
    -webkit-line-clamp: 2; /* на мобилке чуть адекватнее читается */
  }
}
/* HOW WE WORK — always-on scroll reveal (replays up/down) */
.howpath .how-reveal {
  opacity: 0;
  transform: translateY(18px);
  filter: blur(10px);
  transition:
    opacity 520ms ease,
    transform 820ms cubic-bezier(.2,.8,.2,1),
    filter 820ms cubic-bezier(.2,.8,.2,1);
  transition-delay: var(--d, 0ms);
  will-change: opacity, transform, filter;
}

/* состояние "в кадре" */
.howpath.is-in .how-reveal {
  opacity: 1;
  transform: translateY(0);
  filter: blur(0);
}

/* мгновенный сброс, чтобы не было fade-out при уходе */
.howpath.is-reset .how-reveal {
  transition: none !important;
}

@media (max-width: 640px) {
  .howpath .how-reveal {
    transform: translateY(14px);
    filter: blur(8px);
  }
}

@media (prefers-reduced-motion: reduce) {
  .howpath .how-reveal {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
    transition: none !important;
  }
}





#contact.contact{
  position:relative;
  padding:clamp(44px,6vw,88px) 0;
  background:#050505;
  color:rgba(255,255,255,0.92);
}
#contact .contact__inner{
  width:min(780px, calc(100% - 48px));
  margin:0 auto;
  position:relative;
}
#contact .contact__head{ margin-bottom:18px; text-align:center; }
#contact .contact__title{
  margin:0;
  font-size:clamp(22px,2.6vw,30px);
  letter-spacing:-0.02em;
  font-weight:620;
}
#contact .contact__sub{
  margin:8px 0 0 0;
  font-size:12px;
  letter-spacing:0.02em;
  color:rgba(255,255,255,0.46);
}

#contact .msf__card{
  position:relative;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(900px 360px at 20% 0%, rgba(255,255,255,0.07), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.045), rgba(255,255,255,0.02));
  box-shadow:0 18px 44px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.05);
  overflow:hidden;
}
#contact .msf-form{ padding:18px; position:relative; }

#contact .msf__steps{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:14px;
  margin:6px 0 14px;
}
#contact .msf-step{
  width:38px;height:38px;border-radius:999px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.68);
  cursor:pointer;
  transition:transform 220ms ease, background 220ms ease, border-color 220ms ease, color 220ms ease, opacity 220ms ease;
}
#contact .msf-step:disabled{ cursor:not-allowed; opacity:0.55; }
#contact .msf-step__num{ font-size:12px;font-weight:600;letter-spacing:0.02em; }
#contact .msf-step.is-active{
  background:rgba(255,255,255,0.92);
  color:#050505;
  border-color:rgba(255,255,255,0.30);
  box-shadow:0 0 22px rgba(255,255,255,0.10);
}
#contact .msf-step.is-done{ background:rgba(255,255,255,0.08); color:rgba(255,255,255,0.52); }

#contact .msf-step__line{
  width:56px;height:2px;border-radius:999px;
  background:rgba(255,255,255,0.12);
  position:relative;overflow:hidden;
}
#contact .msf-step__lineFill{
  position:absolute;inset:0;
  background:rgba(255,255,255,0.42);
  transform:scaleX(0);
  transform-origin:0 50%;
  transition:transform 520ms cubic-bezier(.2,.8,.2,1);
}

#contact .msf__progress{
  height:2px;width:100%;
  border-radius:999px;
  background:rgba(255,255,255,0.10);
  overflow:hidden;
  margin-bottom:16px;
}
#contact .msf__bar{
  height:100%;
  background:linear-gradient(to right, rgba(255,255,255,0.52), rgba(255,255,255,0.92));
  transition:width 520ms cubic-bezier(.2,.8,.2,1);
}

#contact .msf__panel{ display:grid; gap:12px; }
#contact .msf__panelHead{
  display:flex; align-items:baseline; justify-content:space-between; gap:12px;
}
#contact .msf__label{
  font-size:16px; letter-spacing:-0.01em; font-weight:560;
  color:rgba(255,255,255,0.90);
}
#contact .msf__count{
  font-size:11px; letter-spacing:0.12em; color:rgba(255,255,255,0.42);
}

#contact .msf__input{
  width:100%; height:54px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.92);
  padding:0 16px;
  outline:none;
  transition:border-color 200ms ease, background 200ms ease, box-shadow 200ms ease;
  cursor:text;
  caret-color: rgba(255,255,255,0.92);
}
#contact .msf__input::placeholder{ color:rgba(255,255,255,0.28); }
#contact .msf__input:focus{
  border-color:rgba(255,255,255,0.18);
  background:rgba(255,255,255,0.04);
  box-shadow:0 0 0 4px rgba(255,255,255,0.04);
  caret-color: rgba(255,255,255,0.98);
}
#contact .msf__hint{
  margin:8px 0 0 0;
  font-size:11px;
  color:rgba(255,255,255,0.40);
  line-height:1.35;
}

/* phone */
#contact .msf-phone{
  display:grid;
  grid-template-columns: 116px 1fr;
  gap:10px;
  align-items:stretch;
}
#contact .msf-phone__cc{
  height:54px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.92);
  padding:0 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  cursor:pointer;
  user-select:none;
  transition:border-color 200ms ease, background 200ms ease, transform 200ms ease;
}
#contact .msf-phone__cc:focus{
  outline:none;
  box-shadow:0 0 0 4px rgba(255,255,255,0.04);
}
@media (hover:hover) and (pointer:fine){
  #contact .msf-phone__cc:hover{
    border-color:rgba(255,255,255,0.16);
    background:rgba(255,255,255,0.04);
    transform:translateY(-1px);
  }
}
#contact .msf-phone__flag{ font-size:14px; line-height:1; }
#contact .msf-phone__code{
  font-size:11px;
  letter-spacing:0.14em;
  text-transform:uppercase;
  color:rgba(255,255,255,0.78);
}
#contact .msf-phone__chev{
  color:rgba(255,255,255,0.55);
  display:grid; place-items:center;
}
#contact .msf-phone__input{ padding-left:16px; }

/* country overlay */
#contact .msf-cc{
  position:fixed;
  inset:0;
  z-index:9999;
  background:rgba(0,0,0,0.65);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display:grid;
  place-items:center;
  padding:18px;
}
#contact .msf-cc[hidden]{ display:none !important; }

#contact .msf-cc__panel{
  width:min(520px, 100%);
  max-height:min(72vh, 620px);
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.12);
  background:
    radial-gradient(900px 360px at 20% 0%, rgba(255,255,255,0.06), transparent 55%),
    linear-gradient(180deg, rgba(10,10,10,0.92), rgba(10,10,10,0.88));
  box-shadow:0 18px 54px rgba(0,0,0,0.6);
  overflow:hidden;
  display:grid;
  grid-template-rows:auto 1fr;
}
#contact .msf-cc__top{
  display:flex;
  gap:10px;
  align-items:center;
  padding:12px;
  border-bottom:1px solid rgba(255,255,255,0.08);
}
#contact .msf-cc__search{
  width:100%;
  height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.92);
  padding:0 14px;
  outline:none;
}
#contact .msf-cc__search::placeholder{ color:rgba(255,255,255,0.26); }
#contact .msf-cc__search:focus{
  border-color:rgba(255,255,255,0.16);
  box-shadow:0 0 0 4px rgba(255,255,255,0.04);
}
#contact .msf-cc__close{
  width:44px;height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.80);
  cursor:pointer;
  display:grid;place-items:center;
}
@media (hover:hover) and (pointer:fine){
  #contact .msf-cc__close:hover{
    border-color:rgba(255,255,255,0.16);
    background:rgba(255,255,255,0.05);
  }
}
#contact .msf-cc__list{
  overflow:auto;
  padding:8px;
}
#contact .msf-cc__item{
  width:100%;
  border:none;
  background:transparent;
  color:rgba(255,255,255,0.90);
  padding:12px 12px;
  border-radius:14px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  transition:background 160ms ease, transform 160ms ease;
}
#contact .msf-cc__itemLeft{
  display:flex; align-items:center; gap:10px;
  min-width:0;
}
#contact .msf-cc__itemFlag{ font-size:14px; line-height:1; }
#contact .msf-cc__itemName{
  font-size:12px;
  letter-spacing:0.02em;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  color:rgba(255,255,255,0.84);
}
#contact .msf-cc__itemCode{
  font-size:11px;
  letter-spacing:0.14em;
  color:rgba(255,255,255,0.52);
}
#contact .msf-cc__item.is-active{ background:rgba(255,255,255,0.06); }
@media (hover:hover) and (pointer:fine){
  #contact .msf-cc__item:hover{
    background:rgba(255,255,255,0.05);
    transform:translateY(-1px);
  }
}

/* docs */
#contact .msf__field--docs{ padding-top:2px; }
#contact .msf__docsTop{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  padding:12px;
  border-radius:16px;
  border:1px dashed rgba(255,255,255,0.14);
  background:rgba(255,255,255,0.02);
}
#contact .msf__docsMeta{ display:grid; gap:6px; }
#contact .msf__docsLabel{
  font-size:10px;
  letter-spacing:0.22em;
  text-transform:uppercase;
  color:rgba(255,255,255,0.42);
}
#contact .msf__docsHint{ font-size:11px; color:rgba(255,255,255,0.46); }

#contact .msf__attachBtn{
  display:inline-flex; align-items:center; gap:10px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.03);
  color:rgba(255,255,255,0.86);
  cursor:pointer;
  user-select:none;
  transition:transform 200ms ease, background 200ms ease, border-color 200ms ease, opacity 200ms ease;
}
#contact .msf__attachIc{
  width:34px;height:34px; display:grid; place-items:center;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.10);
  background:rgba(255,255,255,0.02);
}
#contact .msf__attachTx{
  font-size:10px;
  letter-spacing:0.22em;
  text-transform:uppercase;
  color:rgba(255,255,255,0.70);
}
#contact .msf__file{ display:none; }

#contact .msf__nodocs{
  margin-top:12px;
  display:inline-flex; align-items:center; gap:10px;
  cursor:pointer; user-select:none;
}
#contact .msf__check{ position:absolute; opacity:0; pointer-events:none; }
#contact .msf__checkUi{
  width:18px;height:18px;border-radius:6px;
  border:1px solid rgba(255,255,255,0.14);
  background:rgba(255,255,255,0.02);
  box-shadow:inset 0 1px 0 rgba(255,255,255,0.04);
  position:relative;
}
#contact .msf__checkUi::after{
  content:"";
  position:absolute;
  inset:3px;
  border-radius:4px;
  background:rgba(255,255,255,0.92);
  transform:scale(0);
  transition:transform 180ms ease;
}
#contact .msf__nodocs input:checked + .msf__checkUi::after{ transform:scale(1); }
#contact .msf__nodocsTx{
  font-size:11px;
  letter-spacing:0.12em;
  text-transform:uppercase;
  color:rgba(255,255,255,0.55);
}

/* CTA */
#contact .msf__cta{
  margin-top:16px;
  width:100%; height:52px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.12);
  background:rgba(255,255,255,0.06);
  color:rgba(255,255,255,0.92);
  cursor:pointer;
  position:relative;
  overflow:hidden;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:0; /* важно: без стрелки */
  transition:transform 200ms ease, background 200ms ease, border-color 200ms ease, opacity 200ms ease;
}
#contact .msf__cta:disabled{ opacity:0.45; cursor:not-allowed; }
#contact .msf__ctaLabel{
  font-size:11px;
  letter-spacing:0.18em;
  text-transform:uppercase;
  position:relative;
  z-index:2;
}
#contact .msf__ctaArrow{ display:none; } /* убрали стрелочку полностью */

/* Busy pulse on CTA */
@keyframes msfPulseRing {
  0%   { transform:translate(-50%,-50%) scale(0.94); opacity:0.0; }
  16%  { opacity:0.42; }
  55%  { opacity:0.18; }
  100% { transform:translate(-50%,-50%) scale(1.90); opacity:0; }
}
#contact .msf__cta.is-busy::after{
  content:"";
  position:absolute;
  left:50%; top:50%;
  width:52px; height:52px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.85);
  animation:msfPulseRing 1.05s infinite;
  pointer-events:none;
  z-index:1;
}
#contact .msf__cta.is-busy{
  cursor:default;
  transform:none;
  background:rgba(255,255,255,0.08);
  border-color:rgba(255,255,255,0.16);
}

#contact .msf__back{
  margin-top:10px;
  width:100%;
  background:transparent;
  border:none;
  color:rgba(255,255,255,0.42);
  cursor:pointer;
  font-size:12px;
  padding:10px 0 0;
  transition:color 200ms ease;
}
#contact .msf__status{
  margin:10px 0 0 0;
  font-size:11px;
  color:rgba(255,255,255,0.55);
  min-height:16px;
}

/* ===== SUCCESS: только кольцо + текст внутри, без схлопываний ===== */
#contact .contact-success{
  width:100%;
  min-height:320px;
  display:grid;
  place-items:center;
  position:relative;
  opacity:0;
  transform:translateY(10px) scale(0.985);
  transition:opacity 520ms cubic-bezier(.16,1,.3,1), transform 520ms cubic-bezier(.16,1,.3,1);
}
#contact .contact-success.is-on{
  opacity:1;
  transform:translateY(0) scale(1);
}
#contact .contact-success__ring,
#contact .contact-success__text{
  grid-area: 1 / 1;
}
@keyframes msfSuccessPulse {
  0%   { transform:scale(0.985); opacity:0.92; }
  45%  { transform:scale(1.07);  opacity:0.58; }
  100% { transform:scale(0.985); opacity:0.92; }
}
#contact .contact-success__ring{
  width:200px;height:200px;border-radius:999px;
  border:1px solid rgba(255,255,255,0.90);
  box-shadow:0 0 26px rgba(255,255,255,0.08);
  animation:msfSuccessPulse 1.35s ease-in-out infinite;
}
#contact .contact-success__text{
  width:200px;
  padding:0 18px;
  text-align:center;
  font-size:11px;
  letter-spacing:0.22em;
  text-transform:uppercase;
  color:rgba(255,255,255,0.82);
  line-height:1.35;
}

/* Когда успех: скрываем заголовок и форму целиком */
#contact.is-success .contact__head,
#contact.is-success .msf{
  display:none !important;
}

/* Моб */
@media (max-width: 480px){
  #contact .msf-phone{ grid-template-columns: 104px 1fr; }
  #contact .contact__inner{ width:calc(100% - 32px); }
}



/* =========================================
   OFFICES CARDS (between #contact and footer)
   ========================================= */
.offices-cards {
  position: relative;
  background: #050505;
  color: rgba(255,255,255,0.92);
  padding: clamp(42px, 6vw, 84px) 0;
}

.offices-cards__inner {
  width: min(1120px, calc(100% - 48px));
  margin: 0 auto;
}

.offices-cards__head {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 18px;
  margin-bottom: 22px;
}

.offices-cards__title {
  margin: 0;
  font-size: clamp(20px, 2.3vw, 28px);
  letter-spacing: -0.02em;
  font-weight: 650;
}

.offices-cards__sub {
  margin: 0;
  font-size: 11px;
  letter-spacing: 0.32em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.42);
  white-space: nowrap;
}

.offices-cards__grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 16px;
  align-items: start;
}

/* Card base */
.office-card { position: relative; }
.office-card__btn {
  width: 100%;
  appearance: none;
  border: 0;
  background: transparent;
  padding: 0;
  text-align: left;
  cursor: pointer;
  user-select: none;
  color: inherit;
}

.office-card__frame {
  position: relative;
  overflow: hidden;
  border-radius: 18px;
  height: 140px;
  border: 1px solid rgba(255,255,255,0.10);
  background:
    radial-gradient(800px 260px at 20% 0%, rgba(255,255,255,0.06), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.045), rgba(255,255,255,0.02));
  box-shadow:
    0 16px 40px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.05);
  transform-style: preserve-3d;
  transform: perspective(1000px) rotateX(var(--rx, 0deg)) rotateY(var(--ry, 0deg));
  transition: height 420ms cubic-bezier(.2,.8,.2,1), border-color 280ms ease, background 280ms ease, transform 140ms linear;
}

.office-card__bg { position: absolute; inset: 0; pointer-events: none; }
.office-card__gridPattern {
  position: absolute;
  inset: 0;
  opacity: 0.08;
  background-image:
    linear-gradient(to right, rgba(255,255,255,0.09) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.09) 1px, transparent 1px);
  background-size: 20px 20px;
  transition: opacity 260ms ease;
}

.office-card__map {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 260ms ease;
}

.office-card__line {
  stroke: rgba(255,255,255,0.12);
  stroke-width: 1.4;
  stroke-linecap: round;
  stroke-dasharray: 900;
  stroke-dashoffset: 900;
}
.office-card__line.is-main { stroke: rgba(255,255,255,0.18); stroke-width: 3.6; }
.office-card__line.is-mid  { stroke: rgba(255,255,255,0.14); stroke-width: 2.6; }
.office-card__line.is-thin { stroke: rgba(255,255,255,0.10); stroke-width: 1.5; }

.office-card__buildings .bld {
  position: absolute;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 3px;
  opacity: 0;
  transform: scale(0.92);
  transition: opacity 260ms ease, transform 380ms cubic-bezier(.2,.8,.2,1);
}
.office-card__buildings .b1 { top: 40%; left: 10%; width: 15%; height: 20%; }
.office-card__buildings .b2 { top: 15%; left: 35%; width: 12%; height: 15%; }
.office-card__buildings .b3 { top: 70%; left: 75%; width: 18%; height: 18%; }
.office-card__buildings .b4 { top: 20%; right: 10%; width: 10%; height: 25%; }
.office-card__buildings .b5 { top: 55%; left: 5%; width: 8%; height: 12%; }
.office-card__buildings .b6 { top: 8%; left: 75%; width: 14%; height: 10%; }

.office-card__pin {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
  transition: opacity 260ms ease;
}
.office-card__pinDot {
  display: block;
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.88);
  box-shadow: 0 0 22px rgba(255,255,255,0.18);
}

.office-card__shade {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.55), transparent 60%);
  opacity: 0.55;
}

/* Content */
.office-card__content {
  position: relative;
  z-index: 2;
  height: 100%;
  padding: 18px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  transform: translateZ(24px);
}

.office-card__top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}

.office-card__icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.85);
}

.office-card__status {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.08);
  background: rgba(255,255,255,0.03);
  backdrop-filter: blur(10px);
}

.office-card__dot {
  width: 6px;
  height: 6px;
  border-radius: 999px;
  background: rgba(255,255,255,0.85);
  box-shadow: 0 0 14px rgba(255,255,255,0.16);
}

.office-card__statusText {
  font-size: 10px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.55);
}

.office-card__bottom { margin-top: 8px; }
.office-card__name {
  margin: 0;
  font-size: 14px;
  letter-spacing: -0.01em;
  font-weight: 560;
  color: rgba(255,255,255,0.88);
  transition: transform 280ms cubic-bezier(.2,.8,.2,1);
}

.office-card__addr,
.office-card__coords {
  margin: 6px 0 0 0;
  font-size: 11px;
  line-height: 1.35;
  letter-spacing: 0.02em;
  color: rgba(255,255,255,0.46);
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 220ms ease, transform 260ms cubic-bezier(.2,.8,.2,1);
}

.office-card__coords {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* Contacts (reveal) */
.office-card__contacts {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,0.08);
  opacity: 0;
  transform: translateY(-6px);
  transition: opacity 220ms ease, transform 260ms cubic-bezier(.2,.8,.2,1);
}

.office-card__phone {
  margin: 0 0 10px 0;
  font-size: 12px;
  letter-spacing: 0.04em;
  color: rgba(255,255,255,0.75);
}

.office-card__actions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.office-action {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.03);
  color: rgba(255,255,255,0.86);
  text-decoration: none;
  transition: transform 220ms cubic-bezier(.2,.8,.2,1), background 220ms ease, border-color 220ms ease;
}

.office-action__ic {
  width: 34px;
  height: 34px;
  display: grid;
  place-items: center;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.02);
}

.office-action__tx {
  font-size: 11px;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  white-space: nowrap;
  color: rgba(255,255,255,0.70);
}

@media (hover:hover) and (pointer:fine) {
  .office-action:hover {
    transform: translateY(-2px);
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.16);
  }
}

.office-card__underline {
  margin-top: 12px;
  height: 1px;
  width: 100%;
  background: linear-gradient(to right, rgba(255,255,255,0.55), rgba(255,255,255,0.12), transparent);
  transform-origin: 0 50%;
  transform: scaleX(0.28);
  opacity: 0.7;
  transition: transform 360ms ease, opacity 260ms eae;
}

/* Hint */
.office-card__hint {
  display: block;
  margin-top: 8px;
  font-size: 10px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.30);
}

/* Hover polish */
@media (hover:hover) and (pointer:fine) {
  .office-card__btn:hover .office-card__frame {
    border-color: rgba(255,255,255,0.16);
    background:
      radial-gradient(800px 260px at 20% 0%, rgba(255,255,255,0.07), transparent 55%),
      linear-gradient(180deg, rgba(255,255,255,0.055), rgba(255,255,255,0.02));
  }
  .office-card__btn:hover .office-card__name { transform: translateX(4px); }
  .office-card__btn:hover .office-card__underline { transform: scaleX(0.92); opacity: 0.95; }
}

/* Expanded state */
.office-card.is-expanded .office-card__frame { height: 320px; }
.office-card.is-expanded .office-card__gridPattern { opacity: 0; }
.office-card.is-expanded .office-card__map { opacity: 1; }
.office-card.is-expanded .office-card__buildings .bld { opacity: 1; transform: scale(1); }
.office-card.is-expanded .office-card__pin { opacity: 1; }

.office-card.is-expanded .office-card__addr,
.office-card.is-expanded .office-card__coords,
.office-card.is-expanded .office-card__contacts {
  opacity: 1;
  transform: translateY(0);
}

.office-card.is-expanded .office-card__underline { transform: scaleX(1); opacity: 1; }
.office-card.is-expanded .office-card__hint { opacity: 0; transform: translateY(-4px); pointer-events: none; }

@keyframes officeDash { to { stroke-dashoffset: 0; } }
.office-card.is-expanded .office-card__line {
  animation: officeDash 820ms ease forwards;
  animation-delay: var(--d, 0ms);
}

@media (min-width: 860px) {
  .office-card.is-expanded { grid-column: span 2; }
}

@media (max-width: 560px) {
  .offices-cards__head { flex-direction: column; align-items: flex-start; }
  .offices-cards__sub { white-space: normal; }
  .office-card__frame { height: 150px; }
  .office-card.is-expanded .office-card__frame { height: 340px; }
  .office-action__tx { letter-spacing: 0.18em; }
}


/* =========================
   FOOTER — CENTERED GLOW PODIUM (compact, raised, subtle flow)
   Один патч. Без засветки от края до края.
========================= */

:where(footer, .footer, #footer){
  position: relative;
  isolation: isolate;
  overflow: hidden;
}

:where(footer, .footer, #footer) > *{
  position: relative;
  z-index: 1;
}

:where(footer, .footer, #footer)::before{
  content:"";
  position:absolute;

  /* компактный центр, без края-края */
  left: 50%;
  transform: translateX(-50%) translateZ(0);

  /* ширина “пьедестала” */
  width: min(860px, 92vw);
  height: 420px;

  /* чуть выше, чтобы подсветить иконки */
  bottom: -120px;

  pointer-events:none;
  z-index: 0;

  /* аккуратный многослойный свет в палитре титульника */
  background:
    radial-gradient(60% 60% at 50% 78%, rgba(110,210,255,.30) 0%, rgba(0,0,0,0) 62%),
    radial-gradient(58% 58% at 58% 86%, rgba(210,130,255,.26) 0%, rgba(0,0,0,0) 66%),
    radial-gradient(58% 58% at 42% 88%, rgba(255,120,210,.20) 0%, rgba(0,0,0,0) 68%),
    radial-gradient(56% 56% at 50% 92%, rgba(120,140,255,.22) 0%, rgba(0,0,0,0) 70%);

  /* гасим вверх, чтобы не было заливки всего футера */
  -webkit-mask-image: linear-gradient(to top, #000 0%, #000 42%, rgba(0,0,0,0) 100%);
  mask-image: linear-gradient(to top, #000 0%, #000 42%, rgba(0,0,0,0) 100%);

  filter: blur(22px) saturate(1.12) contrast(1.06);
  mix-blend-mode: screen;
  opacity: .95;

  /* заметный, но аккуратный перелив (двигаем только центр) */
  animation: bessonFooterCenterFlow 6.8s ease-in-out infinite;
}

@keyframes bessonFooterCenterFlow{
  0%{
    background-position: 50% 50%, 50% 50%, 50% 50%, 50% 50%;
    transform: translateX(-50%) translateY(-10px) scale(1.01);
  }
  50%{
    background-position: 54% 46%, 58% 54%, 42% 56%, 50% 58%;
    transform: translateX(-50%) translateY(-14px) scale(1.03);
  }
  100%{
    background-position: 50% 50%, 50% 50%, 50% 50%, 50% 50%;
    transform: translateX(-50%) translateY(-10px) scale(1.01);
  }
}

@media (prefers-reduced-motion: reduce){
  :where(footer, .footer, #footer)::before{
    animation: none;
    transform: translateX(-50%) translateY(-10px) scale(1.01);
  }
}


/* =========================================================
Footer
========================================================= */
footer{padding:48px var(--pad);color:#bdbdbd;text-align:center;}
.footer-left{font-weight:700;letter-spacing:.18em;}
.footer-contact{
  font-size:.9rem;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  margin-top:12px;
}
.footer-contact svg{width:16px;height:16px;opacity:.8;}


/* Блокируем скролл при открытом мобильном меню */
body.nav-lock{overflow:hidden;}
:root{
  --sp-black:#050505;
  --sp-white:#ffffff;
  --sp-hairW:rgba(255,255,255,.16);
  --sp-hairW2:rgba(255,255,255,.30);

  /* Fine-tune offsets */
  --cta-left: 56px; /* было 18px; +~38px (примерно 1 см) */
}

:root{
  --sp-black:#050505;
  --sp-white:#ffffff;
  --sp-hairW:rgba(255,255,255,.16);
  --sp-hairW2:rgba(255,255,255,.30);

  /* Desktop offsets */
  --cta-left: 56px; /* desktop: смещено вправо примерно на 1 см */
}


/* === FOOTER: center mail + socials under it === */
footer .footer-contact{
  display: flex;
  justify-content: center;
}

footer .footer-contact a{
  justify-content: center; /* твой mail-link display:flex уже есть inline */
}

footer .footer-socials{
  justify-content: center;
  margin: 12px 0 18px;
}

/* === FOOTER: auto pulse (random) === */
footer .social{
  --pulse-dur: 1800ms;   /* будет переопределяться из JS */
}

footer .social.is-pulse{
  animation: footerSocialGlow var(--pulse-dur) ease both;
}

footer .social.is-pulse::before{
  opacity: 1;
}

footer .social.is-pulse .social__path{
  animation: footerSocialStroke var(--pulse-dur) ease both;
}

@keyframes footerSocialGlow{
  0%{
    transform: translateY(0);
    border-color: rgba(245,245,245,.14);
    background: rgba(245,245,245,.03);
  }
  18%{
    transform: translateY(-2px);
    border-color: rgba(245,245,245,.30);
    background: rgba(245,245,245,.07);
  }
  70%{
    transform: translateY(-2px);
    border-color: rgba(245,245,245,.28);
    background: rgba(245,245,245,.06);
  }
  100%{
    transform: translateY(0);
    border-color: rgba(245,245,245,.14);
    background: rgba(245,245,245,.03);
  }
}

@keyframes footerSocialStroke{
  0%{   stroke-dashoffset: 120; opacity: .86; }
  22%{  stroke-dashoffset: 0;   opacity: 1; }
  76%{  stroke-dashoffset: 0;   opacity: 1; }
  100%{ stroke-dashoffset: 120; opacity: .86; }
}

@media (prefers-reduced-motion: reduce){
  footer .social.is-pulse,
  footer .social.is-pulse .social__path{
    animation: none !important;
  }
}

/* Floating CTA — desktop bottom-left */
.cta-float-left{
  -webkit-tap-highlight-color: transparent;
  appearance:none;
  border:0;
  background:transparent;
  cursor:pointer;

  position:fixed;
  left: var(--cta-left);
  right:auto;
  bottom:calc(18px + env(safe-area-inset-bottom));
  z-index:9998;

  display:inline-flex;
  align-items:center;
  gap:14px;

  padding:10px 2px;
  user-select:none;
  will-change: transform, opacity;

  /* Motion driven by CSS vars from JS */
  transform: translate3d(var(--mx, 0px), var(--my, 0px), 0);
  opacity:1;
  transition: opacity .28s ease, transform .28s ease;
}

.cta-float-left__orb{
  width:54px;
  height:54px;
  border-radius:999px;
  border:1px solid var(--sp-hairW);
  background: rgba(255,255,255,.03);
  display:grid;
  place-items:center;
  overflow:hidden;

  box-shadow: 0 12px 34px rgba(0,0,0,.35);
  transition: background .45s ease, border-color .45s ease, box-shadow .45s ease;
}

.cta-float-left__arrow{
  stroke: var(--sp-white);
  transition: stroke .45s ease, transform .45s ease;
}

.cta-float-left__label{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-size:11px;
  font-weight:600;
  text-transform:uppercase;
  letter-spacing:.24em;
  color: rgba(255,255,255,.82);
  white-space:nowrap;
  padding-right:2px;
}

/* Near/hover */
.cta-float-left.is-near .cta-float-left__orb{
  border-color: var(--sp-hairW2);
}
.cta-float-left:hover .cta-float-left__orb{
  background: rgba(255,255,255,.92);
  border-color: rgba(255,255,255,.38);
}
.cta-float-left:hover .cta-float-left__arrow{
  stroke: var(--sp-black);
  transform: translate3d(1px,-1px,0);
}

.cta-float-left:focus-visible{ outline:none; }
.cta-float-left:focus-visible .cta-float-left__orb{
  box-shadow: 0 0 0 3px rgba(255,255,255,.18), 0 12px 34px rgba(0,0,0,.45);
  border-color: rgba(255,255,255,.38);
}

/* Hide on scroll down */
.cta-float-left.is-hidden{
  pointer-events:none;
  opacity:0;
  transform: translate3d(var(--mx, 0px), calc(var(--my, 0px) + 14px), 0) scale(.98);
}

/* Mobile: bottom-left, label UNDER the orb (same visual, just left instead of right) */
@media (max-width: 720px){
  .cta-float-left{
    left:14px;                 /* было right:14px — теперь слева */
    right:auto;
    bottom:calc(14px + env(safe-area-inset-bottom));

    flex-direction:column;
    align-items:center;
    gap:6px;

    padding:8px 6px;
  }

  .cta-float-left__orb{
    width:52px;
    height:52px;
  }

  .cta-float-left__label{
    display:block;
    font-size:10px;
    font-weight:500;
    letter-spacing:.20em;
    color: rgba(255,255,255,.72);
    text-transform:uppercase;
    white-space:nowrap;
    padding-right:0;
    line-height:1;
    text-align:center;
  }
}

/* === FOOTER: premium socials (append-only patch) === */
footer .footer-socials{
  display: flex;
  gap: 10px;
  align-items: center;
  margin: 14px 0 18px;
}

footer .social{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: inline-grid;
  place-items: center;
  color: #f5f5f5;

  border: 1px solid rgba(245,245,245,.14);
  background: rgba(245,245,245,.03);

  position: relative;
  text-decoration: none;
  transition: transform .18s ease, border-color .18s ease, background .18s ease;
  will-change: transform;
}

footer .social::before{
  content:"";
  position:absolute;
  inset:-1px;
  border-radius: inherit;
  opacity: 0;
  background: radial-gradient(60% 60% at 50% 30%, rgba(245,245,245,.18), transparent 60%);
  transition: opacity .22s ease;
  pointer-events: none;
}

footer .social:hover{
  transform: translateY(-2px);
  border-color: rgba(245,245,245,.26);
  background: rgba(245,245,245,.06);
}

footer .social:hover::before{ opacity: 1; }

footer .social__icon{
  width: 18px;
  height: 18px;
}

footer .social__path{
  stroke: currentColor;
  stroke-width: 1.7;
  stroke-linecap: round;
  stroke-linejoin: round;

  stroke-dasharray: 120;
  stroke-dashoffset: 120;
  opacity: .92;
  transition: stroke-dashoffset .55s ease, opacity .18s ease;
}

footer .social:hover .social__path{
  stroke-dashoffset: 0;
  opacity: 1;
}

@media (prefers-reduced-motion: reduce){
  footer .social, footer a{ transition: none; }
  footer .social__path{ transition: none; stroke-dashoffset: 0; }
}
